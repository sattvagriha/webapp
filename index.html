<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>SattvaGriha – Ayurvedic Wellness</title>
<!-- Existing site head content -->
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>SattvaGriha – Ayurvedic Wellness</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&amp;family=Merriweather:wght@400;700&amp;display=swap" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" referrerpolicy="no-referrer" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
section.visible {
  opacity: 1 !important;
  transform: translateY(0px) !important;
}


/* --- Enhanced Mobile-Friendly Header & Layout --- */
header {
  color: white;
  text-align: center;
  padding: 2rem 1rem;
  background: linear-gradient(120deg, #004d40, #00796b, #26a69a);
  background-size: 300% 300%;
  animation: gradientBG 10s ease infinite;
  display: flex;
  flex-direction: column;
  align-items: center;
}
header h1 {
  font-size: 2.5rem;
  margin: 0;
  font-family: 'Merriweather', serif;
}
header h3 {
  font-size: 1.1rem;
  font-weight: 400;
  margin-top: 0.5rem;
  opacity: 0.95;
}

/* Login Buttons Improved */
#login-button, #logout-button {
  background-color: #00897b;
  border: 1px solid #000;
  color: #fff;
  padding: 0.6rem 1.2rem;
  margin-top: 1rem;
  border-radius: 8px;
  font-weight: bold;
  transition: background-color 0.3s ease, transform 0.2s ease;
}
#login-button:hover, #logout-button:hover {
  background-color: #004d40;
  transform: translateY(-2px);
}

/* Ensure responsive sections and padding */
main {
  padding: 1rem;
  max-width: 100%;
  box-sizing: border-box;
}
section {
  margin-bottom: 2rem;
  padding: 1.5rem;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  transition: transform 0.3s ease, opacity 0.3s ease;
}
section:hover {
  transform: scale(1.01);
}

/* Media Queries for small screens */
@media (max-width: 600px) {
  header h1 { font-size: 1.8rem; }
  header h3 { font-size: 1rem; }
  #login-button, #logout-button {
    width: 100%;
    font-size: 1rem;
  }
  section {
    padding: 1rem;
  }
}


    /* --- Keyframe Animations --- */
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes pulse-glow {
        0% { box-shadow: 0 0 5px rgba(197, 166, 105, 0.2), 0 0 10px rgba(197, 166, 105, 0.3); }
        50% { box-shadow: 0 0 20px rgba(197, 166, 105, 0.5), 0 0 30px rgba(197, 166, 105, 0.4); }
        100% { box-shadow: 0 0 5px rgba(197, 166, 105, 0.2), 0 0 10px rgba(197, 166, 105, 0.3); }
    }
    @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
    }
    @keyframes slideDownFadeIn {
      from {opacity: 0; transform: translateY(-30px);}
      to {opacity: 1; transform: translateY(0);}
    }
    @keyframes slideInFromLeft {
      from { opacity: 0; transform: translateX(-50px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes slideInFromRight {
      from { opacity: 0; transform: translateX(50px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    @keyframes slideInFromTop {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    @keyframes question-intro {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* --- Base & Variables --- */
    :root {
      --primary-color: #00695c;
      --secondary-color: #004d40;
      --accent-color: #c5a669;
      --text-color: #4a4a4a;
      --bg-color: #fcfaf6;
      --card-bg-color: #ffffff;
      --print-btn-color: #6a1b9a; /* For Quiz Print Button */
    }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Lato', Arial, sans-serif;
      margin: 0;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.7;
    }

    /* --- Navigation --- */
    .hamburger-menu {
      position: fixed; top: 15px; left: 20px; z-index: 1001; cursor: pointer;
      background: rgba(4, 95, 83, 0.5); padding: 10px; border-radius: 8px;
      transition: background-color 0.3s, transform 0.3s ease-out;
    }
    .hamburger-menu:hover { background: rgba(4, 95, 83, 0.8); transform: scale(1.1); }
    .hamburger-menu span {
      display: block; width: 30px; height: 3px; margin: 5px 0;
      background-color: white;
      transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.4s ease;
    }
    .hamburger-menu.active span:nth-of-type(1) { transform: rotate(45deg) translate(7px, 7px); }
    .hamburger-menu.active span:nth-of-type(2) { opacity: 0; }
    .hamburger-menu.active span:nth-of-type(3) { transform: rotate(-45deg) translate(7px, -7px); }
    .side-nav {
      height: 100%; width: 0; position: fixed; z-index: 1002;
      top: 0; left: 0; background-color: var(--secondary-color);
      overflow-x: hidden; transition: 0.5s cubic-bezier(0.77, 0, 0.18, 1); padding-top: 60px;
    }
    .side-nav a {
      padding: 12px 15px 12px 30px; text-decoration: none; font-size: 1.15em;
      color: #f1f1f1; display: block; transition: color 0.3s, transform 0.3s ease-out;
    }
    .side-nav a:hover { color: var(--accent-color); transform: translateX(10px); }
    .side-nav .close-btn { position: absolute; top: 5px; right: 25px; font-size: 36px; }

    /* --- Modals (General) --- */
    .modal {
      display: none; position: fixed; z-index: 1003; left: 0; top: 0;
      width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6);
      /* Accessibility: Added for better keyboard navigation, visible focus */
      outline: 0; 
    }
    .modal-content {
      background-color: var(--bg-color); margin: 8% auto; padding: 25px 35px 35px 35px;
      border: none; width: 85%; max-width: 650px; border-radius: 12px;
      position: relative; animation: slideDownFadeIn 0.5s; box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    }
    .close-modal {
      color: #aaa; position: absolute; top: 10px; right: 25px;
      font-size: 30px; font-weight: bold; z-index: 1004;
      transition: transform 0.3s, color 0.3s;
      /* Accessibility */
      cursor: pointer;
      border: none;
      background: transparent;
      padding: 5px;
    }
    .close-modal:hover, .close-modal:focus {
      color: black; text-decoration: none; cursor: pointer; transform: rotate(180deg) scale(1.1);
    }
    .modal-content h2 { text-align: left; margin-bottom: 15px; } /* For info modal */
    .modal-content p { line-height: 1.8; font-size: 1.0em; white-space: pre-wrap; }

    /* --- Header & Footer --- */
    header, footer {
      color: white; text-align: center; padding: 40px 20px;
      background: linear-gradient(-45deg, var(--secondary-color), var(--primary-color), #00796b, #4db6ac);
      background-size: 400% 400%; animation: gradientBG 15s ease infinite;
    }
    header h1 { font-family: 'Merriweather', serif; font-size: 2.8em; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
    header h3 { font-weight: 400; opacity: 0.9; margin: 10px 0 0; font-size: 1.2em; }
    footer p { margin: 5px 0; opacity: 0.8; }
    footer .disclaimer { font-size: 0.85em; opacity: 0.7; max-width: 600px; margin: 15px auto 0; }
    #disclaimer-more-btn { text-decoration: underline; cursor: pointer; font-weight: bold; color: white; opacity: 0.85; transition: opacity 0.3s; }
    #disclaimer-more-btn:hover { opacity: 1; }

    /* --- Main Page Content --- */
    main { padding: 20px; max-width: 800px; margin: auto; }
    section {
      background: var(--card-bg-color); margin-bottom: 30px; padding: 30px 35px;
      border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.08); opacity: 0;
    }
    section.visible { opacity: 1; }
    section.visible:nth-of-type(odd) { animation: slideInFromLeft 0.9s cubic-bezier(0.165, 0.84, 0.44, 1) forwards; }
    section.visible:nth-of-type(even) { animation: slideInFromRight 0.9s cubic-bezier(0.165, 0.84, 0.44, 1) forwards; }
    h2 { font-family: 'Merriweather', serif; color: var(--secondary-color); text-align: center; margin-bottom: 25px; font-size: 2.2em; }
    h3 { font-family: 'Merriweather', serif; color: var(--secondary-color); font-size: 1.5em; }
    strong { color: var(--secondary-color); }
    .profile-container { display: flex; flex-direction: row; justify-content: center; align-items: center; gap: 2rem; align-items: center; gap: 20px; text-align: center; }
    .profile-logo { width: 180px; border-radius: 50%; border: 5px solid white; animation: pulse-glow 4s infinite ease-in-out; }
    .treatment-process { display: flex; flex-direction: row; flex-wrap: wrap; justify-content: center; gap: 1.5rem; gap: 20px; }
    .process-step { display: flex; align-items: center; gap: 25px; opacity: 0; transform: translateX(-30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
    .visible .process-step { opacity: 1; transform: translateX(0); }
    .visible .process-step:nth-child(2) { transition-delay: 0.2s; }
    .visible .process-step:nth-child(3) { transition-delay: 0.4s; }
    .visible .process-step:nth-child(4) { transition-delay: 0.6s; }
    .process-icon { flex-shrink: 0; width: 80px; height: 80px; background-color: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; animation: float 5s ease-in-out infinite; }
    .visible .process-step:nth-child(odd) .process-icon { animation-delay: 0.5s; }
    .process-text h4 { font-family: 'Merriweather', serif; font-size: 1.2em; color: var(--secondary-color); margin: 0 0 5px 0; }
    .process-text p { margin: 0; }

    .accordion-button {
      background-color: #f1f1f1; color: var(--secondary-color); cursor: pointer; padding: 18px;
      width: 100%; text-align: left; border: none; outline: none; font-size: 1.1em;
      font-weight: bold; border-radius: 8px; margin-top: 10px;
      display: flex; justify-content: space-between; align-items: center;
    }
    .accordion-button:hover, .accordion-button.active { background-color: #e6e6e6; }
    .accordion-button::after { content: '\002B'; color: var(--primary-color); font-weight: bold; font-size: 1.5em; transition: transform 0.4s; }
    .accordion-button.active::after { content: "\2212"; transform: rotate(180deg); }
    .accordion-panel { padding: 0 18px; background-color: white; max-height: 0; overflow: hidden; transition: max-height 0.5s cubic-bezier(0.165, 0.84, 0.44, 1); border-bottom: 1px solid #eee; }
    .accordion-panel ul { list-style-type: '✅ '; padding-left: 20px; margin-top: 15px; margin-bottom: 20px; }
    .accordion-panel.open li { opacity: 0; animation: question-intro 0.5s ease-out forwards; }
    .accordion-panel.open li:nth-child(1) { animation-delay: 0.1s; }
    .accordion-panel.open li:nth-child(2) { animation-delay: 0.2s; }
    .accordion-panel.open li:nth-child(3) { animation-delay: 0.3s; }
    .accordion-panel.open li:nth-child(4) { animation-delay: 0.4s; }
    .accordion-panel.open li:nth-child(5) { animation-delay: 0.5s; }
    .accordion-panel.open li:nth-child(6) { animation-delay: 0.6s; }
    .accordion-panel.open li:nth-child(7) { animation-delay: 0.7s; }
    .accordion-panel.open li:nth-child(8) { animation-delay: 0.8s; }
    .accordion-panel.open li:nth-child(9) { animation-delay: 0.9s; }

    .plans-container { display: flex; gap: 25px; flex-wrap: wrap; justify-content: center; }
    .plan-card { background: #f9f9f9; border: 2px solid transparent; border-radius: 10px; padding: 25px; text-align: center; flex: 1; min-width: 280px; transition: all 0.3s ease-out; }
    .plan-card:hover { transform: translateY(-12px) scale(1.02); box-shadow: 0 15px 40px rgba(0,0,0,0.12); border-color: var(--accent-color); }
    .price { font-size: 2.2em; font-weight: 700; color: var(--primary-color); margin: 15px 0; }
    .price-details { line-height: 1.5; font-size: 1.1em; }
    .button-container { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
    .btn { background: var(--accent-color); color: white !important; padding: 15px 30px; text-decoration: none; border-radius: 8px; display: inline-block; margin-top: 15px; font-weight: 700; font-size: 1.1em; transition: all 0.3s ease-out; border: none; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
    .btn:disabled { background-color: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }
    .btn.whatsapp { background-color: #25D366; }
    .btn.whatsapp:hover { background-color: #1DA851; box-shadow: 0 6px 20px rgba(30, 168, 81, 0.4); }
    .btn:not(:disabled):hover { background-color: #b39150; transform: translateY(-5px); box-shadow: 0 6px 20px rgba(197, 166, 105, 0.5); filter: brightness(1.1); }
    .btn i { margin-right: 8px; }

    /* --- Styles for Appointment Form --- */
    .form-group { margin-bottom: 1.0rem; }
    .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--secondary-color); }
    #appointment-form input[type="text"],
    #appointment-form input[type="number"],
    #appointment-form select,
    #appointment-form textarea {
        width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px;
        font-family: 'Lato', sans-serif; font-size: 1em; box-sizing: border-box;
        transition: border-color 0.3s, box-shadow 0.3s;
    }
    #appointment-form input[type="text"]:focus,
    #appointment-form input[type="number"]:focus,
    #appointment-form select:focus,
    #appointment-form textarea:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 5px rgba(0, 105, 92, 0.3); }
    .form-group .radio-group { display: flex; gap: 20px; align-items: center; flex-wrap: wrap; }
    .form-group .radio-group label { font-weight: normal; margin-bottom: 0; color: var(--text-color); }
    .form-group .radio-group input[type="radio"] { margin-right: 5px; }
    #appointment-form select {
        appearance: none; background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d%3D%22M5%208l5%205%205-5z%22%20fill%3D%22%234a4a4a%22/%3E%3C/svg%3E');
        background-repeat: no-repeat; background-position: right 15px center; background-size: 12px; cursor: pointer;
    }
    #fee-text { font-size: 1.2em; font-weight: bold; color: var(--primary-color); margin: 0; padding: 10px; background-color: #e8f5e9; border-radius: 8px; text-align: center; }

    /* --- CSS FOR ASSESSMENT QUIZ --- */
    .quiz-container {
        font-family: 'Lato', sans-serif; background-color: #ffffff; border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); width: 100%; max-width: 600px; overflow: hidden; border: 1px solid #eee;
    }
    .quiz-header { background-color: var(--primary-color); color: #ffffff; padding: 1.5rem 2rem; text-align: center; }
    .quiz-header h1 { margin: 0; font-size: 1.6rem; font-family: 'Merriweather', serif; color: white; text-shadow: none; }
    .quiz-body { padding: 2rem 2.5rem; }
    .welcome-text { text-align: center; margin-bottom: 2rem; font-size: 1rem; color: var(--text-color); }
    .welcome-text p { margin: 1rem 0; }
    .welcome-text .emphasis { font-weight: 600; color: var(--secondary-color); }
    .user-info-form { margin-top: 2rem; border-top: 1px solid #eee; padding-top: 1.5rem; }
    .user-info-form .form-group { margin-bottom: 1rem; }
    .user-info-form .form-group label { display: block; margin-bottom: 5px; font-weight: 600; color: var(--secondary-color); }
    .user-info-form input[type="text"], .user-info-form input[type="number"] {
        width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;
        font-family: 'Lato', sans-serif; box-sizing: border-box;
    }
    .user-info-form .radio-group { display: flex; gap: 20px; align-items: center; }
    .user-info-form .radio-group label { font-weight: normal; margin-bottom: 0; color: var(--text-color); }
    .progress-bar-container { width: 100%; background-color: #e0e0e0; border-radius: 50px; margin-bottom: 20px; height: 10px; }
    .progress-bar { width: 0%; height: 100%; background-color: var(--accent-color); border-radius: 50px; transition: width 0.4s ease-in-out; }
    .section-title { font-size: 1rem; font-weight: 600; color: var(--primary-color); margin-bottom: 0.5rem; text-align: center; }
    .question-title { font-weight: 600; font-size: 1.2rem; margin-bottom: 1.5rem; color: var(--text-color); text-align: center; min-height: 50px; }
    .question-animated { animation: question-intro 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards; }
    .options-container { display: flex; flex-direction: column; gap: 0.8rem; }
    .quiz-container .btn { background-color: var(--primary-color); border: 2px solid var(--primary-color); font-family: 'Lato', sans-serif; }
    .quiz-container .btn:not(:disabled):hover { background-color: var(--secondary-color); }
    .option-btn {
        background-color: #f8f9fa; border: 2px solid #ddd; border-radius: 8px; padding: 1rem;
        cursor: pointer; width: 100%; text-align: center; font-size: 1rem;
        font-family: 'Lato', sans-serif; font-weight: 600;
        transition: background-color 0.3s, border-color 0.3s, transform 0.2s ease-out;
    }
    .option-btn:hover { transform: translateY(-3px); border-color: var(--accent-color); background-color: #fff; }
    #results-container { padding: 0; text-align: center; }
    #results-greeting { font-size: 1.4rem; font-weight: 600; color: var(--secondary-color); padding: 0 2rem; text-align: center; }
    .dominant-result { background-color: #e8f5e9; border-left: 5px solid var(--primary-color); padding: 1rem 1.5rem; margin: 1.5rem 0; text-align: left; border-radius: 4px; }
    .dominant-result h3 { margin: 0 0 5px 0; color: var(--secondary-color); font-family: 'Merriweather', serif; }
    .dominant-result p { margin: 0; font-size: 1.2rem; font-weight: 600; color: var(--primary-color); }
    .chart-container { margin-top: 2rem; padding: 0 1rem; }
    .percentage-summary { text-align: left; padding: 10px; margin-top: 1rem; background-color: #fafafa; border-radius: 5px; border: 1px solid #eee; }
    .percentage-summary p { margin: 5px 0; font-weight: 600; }
    .results-buttons { display: flex; gap: 1rem; margin-top: 1.5rem; flex-wrap: wrap; justify-content: center; }
    .quiz-container .disclaimer { font-size: 0.8rem; color: #777; margin-top: 2rem; }
    #restart-btn { background-color: var(--accent-color); border-color: var(--accent-color); }
    #restart-btn:hover { background-color: #b39150; }
    #print-btn { background-color: var(--print-btn-color); border-color: var(--print-btn-color); }
    #print-btn:hover { background-color: #4a148c; }

    /* --- FINAL ENHANCED BLOG STYLES --- */
    #blog-modal .modal-content { max-width: 850px; padding: 0; }
    #blog-modal .modal-header { background-color: var(--primary-color); color: white; padding: 20px 30px; border-radius: 12px 12px 0 0; text-align: center; position: relative; }
    #blog-modal .modal-header h2 { color: white; margin: 0; font-size: 2em; font-family: 'Merriweather', serif; }
    #blog-modal .close-modal { color: rgba(255, 255, 255, 0.7); top: 15px; right: 20px; }
    #blog-modal .close-modal:hover { color: white; }

    /* Compact Blog Index View */
    #blog-index-view { padding: 25px 30px; animation: fadeIn 0.6s; }
    #blog-index-view ul { list-style: none; padding: 0; margin: 0; }
    .blog-list-item {
        display: block; padding: 14px 20px; margin-bottom: 8px;
        background-color: #f1f8f7; border-radius: 8px; text-decoration: none;
        font-weight: bold; font-size: 1.1em; color: var(--secondary-color);
        border-left: 4px solid transparent; transition: all 0.3s;
    }
    .blog-list-item:hover {
        background-color: #e0f2f1; border-left-color: var(--primary-color);
        transform: translateX(5px);
    }
    .blog-list-item i { margin-right: 12px; color: var(--primary-color); width: 20px; text-align: center; }

    /* Blog Content View */
    #blog-content-view { padding: 20px 35px 35px; animation: fadeIn 0.6s; }
    .back-to-blogs-btn {
        background: #f1f1f1; color: var(--secondary-color); padding: 10px 15px; border-radius: 8px;
        border: none; cursor: pointer; font-weight: 600; margin-bottom: 25px;
        display: inline-flex; align-items: center; gap: 8px; transition: all 0.3s;
    }
    .back-to-blogs-btn:hover { background-color: #e6e6e6; transform: translateX(-5px); }
    #blog-post-title {
        text-align: center; color: var(--primary-color); margin-top: 0;
        margin-bottom: 20px; font-size: 2.2em; animation: slideInFromTop 0.5s;
    }
    .blog-tabs-nav {
        display: flex; flex-wrap: wrap; border-bottom: 2px solid #ddd;
        margin-bottom: 25px; gap: 10px;
    }
    .tab-link {
        padding: 12px 18px; cursor: pointer; border: none; background: none;
        font-size: 1em; font-weight: 600; color: var(--text-color);
        border-bottom: 3px solid transparent; transition: all 0.3s;
    }
    .tab-link:hover { color: var(--primary-color); }
    .tab-link.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }

    /* Blog Tab Content */
    .tab-pane { display: none; animation: fadeIn 0.5s; }
    .tab-pane.active { display: block; }
    .tab-pane h3 { font-size: 1.6em; color: var(--secondary-color); padding-bottom: 5px; border-bottom: 2px solid var(--accent-color); margin-top: 0; margin-bottom: 1.2em; }
    .tab-pane h4 { font-size: 1.3em; color: var(--secondary-color); margin-top: 1.8em; margin-bottom: 0.8em; }
    .tab-pane p, .tab-pane ul, .tab-pane table { margin-bottom: 1.5em; line-height: 1.8; }
    .tab-pane ul { padding-left: 30px; }
    .tab-pane li { padding-left: 10px; margin-bottom: 0.8em; }
    .tab-pane ul.dos { list-style-type: '✅'; }
    .tab-pane ul.donts { list-style-type: '❌'; }
    .tab-pane .shloka { border-left: 4px solid var(--accent-color); padding: 15px 20px; margin: 1.5em 0; font-style: italic; font-family: 'Merriweather', serif; color: #555; background-color: #fdfbf5; }
    .tab-pane table { width: 100%; margin: 1.5em 0; border-collapse: collapse; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .tab-pane th, .tab-pane td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    .tab-pane th { background-color: var(--primary-color); color: white; font-weight: bold; }
    .tab-pane tr:nth-child(even) { background-color: #f7fbfb; }

    .hidden { display: none !important; }

    @media (max-width: 768px) {
      header h1 { font-size: 2.2em; }
      h2 { font-size: 1.8em; }
      .process-step { flex-direction: column; text-align: center; }
      .modal-content { margin: 20% auto; width: 90%; }
      /* Blog specific for mobile */
      #blog-modal .modal-header { padding: 15px 20px; }
      #blog-modal .modal-header h2 { font-size: 1.8em; }
      #blog-index-view, #blog-content-view { padding: 15px 20px; }
      .blog-list-item { font-size: 1em; padding: 10px 15px; }
      #blog-post-title { font-size: 1.8em; }
      .tab-link { padding: 10px 12px; font-size: 0.9em; }
    }

    @media print {
        body { background-color: #ffffff; padding: 0; margin: 0; }
        .modal, .modal-content { display: block !important; box-shadow: none; border: none; width: 100%; max-width: 100%; height: auto; overflow: visible; }
        .quiz-container, #blog-modal .modal-content { box-shadow: none; border: none; max-width: 100%; border-radius: 0; }
        .quiz-header, #blog-modal .modal-header { background-color: #ffffff !important; color: #000000 !important; border-bottom: 2px solid #000; }
        .quiz-body, .results-body, #blog-content-view, #blog-index-view { padding: 0; }
        #results-greeting, .dominant-result p, .dominant-result h3, .percentage-summary p, #blog-post-title { color: #000000 !important; }
        .dominant-result { border-left: 5px solid #000; background-color: #f0f0f0; page-break-inside: avoid; }
        .chart-container { page-break-inside: avoid; }
        .hamburger-menu, .side-nav, footer, .close-modal, .results-buttons, .disclaimer, #appointment-section, .button-container a.btn, .back-to-blogs-btn, .blog-tabs-nav { display: none !important; }
        main, header, section:not(#assessment-modal):not(#blog-modal) { display: none; } /* Hide all other content when printing quiz/blog */
        #assessment-modal, #blog-modal { display: block !important; position: static; }
        .tab-pane.active { display: block !important; } /* Ensure active tab content prints */
        .tab-pane { display: block !important; visibility: visible !important; opacity: 1 !important; transform: none !important; } /* Ensure all tab content prints */
    }
  

#login-button, #logout-button {
  background-color: #00695c;
  border: 1px solid black;
  color: white;
  padding: 10px 20px;
  cursor: pointer;
  border-radius: 6px;
  margin: 5px;
}

/* --- Enhancements for Mobile Adaptation and Visuals --- */
.login-top-left {
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 1002;
}

#login-button-top {
  background-color: #00695c;
  color: white;
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: bold;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  transition: background-color 0.3s ease, transform 0.2s ease;
}

#login-button-top:hover {
  background-color: #004d40;
  transform: translateY(-2px);
}

@media (max-width: 600px) {
  .treatment-process {
    flex-direction: row !important;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
  }

  .process-step {
    flex: 1 1 45%;
    flex-direction: column !important;
    text-align: center;
    max-width: 220px;
  }

  .process-icon {
    width: 60px;
    height: 60px;
    font-size: 1.5em;
  }

  .plans-container {
    flex-direction: column;
    align-items: center;
  }

  .plan-card {
    min-width: 90%;
    max-width: 95%;
  }
}

.button-container .btn {
  transition: all 0.3s ease-in-out;
}

.button-container .btn:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}


/* Mobile-first layout refinement */
@media (max-width: 600px) {
  header {
    flex-direction: column;
    align-items: flex-start;
    padding: 1rem;
  }

  .login-top-right {
    top: 10px;
    right: 10px;
  }

  .profile-container {
    flex-direction: column !important;
    gap: 1rem;
  }

  .treatment-process {
    flex-direction: row !important;
    flex-wrap: wrap !important;
    gap: 1rem;
    justify-content: center;
  }

  .process-step {
    width: 45% !important;
    max-width: 220px !important;
  }

  section {
    padding: 1rem !important;
    margin-bottom: 1.2rem !important;
  }

  .plans-container {
    flex-direction: column;
    gap: 1.2rem;
  }

  .plan-card {
    min-width: 90%;
    font-size: 0.95rem;
  }

  .button-container {
    flex-direction: column;
    gap: 0.8rem;
  }
}

/* Prevent text overflow and fix layout wrapping */
.animated-section, section {
  overflow-wrap: break-word;
  word-break: break-word;
  box-sizing: border-box;
  max-width: 100%;
}

.accordion-panel, .accordion-button, .modal-content, .quiz-body, .form-group, .plan-card {
  max-width: 100%;
  box-sizing: border-box;
}

/* Add pro-style animations */
.fade-in-up {
  animation: fadeInUp 0.6s ease-out both;
}
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translate3d(0, 20px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

section, .accordion-panel, .modal-content, .form-group, .quiz-container, .plan-card {
  animation: fadeInUp 0.7s ease-in-out both;
}

/* ✨ Elegant Color Enhancements and Transitions */
:root {
  --primary-color: #004d40;
  --secondary-color: #00796b;
  --accent-color: #fdd835;
  --highlight-color: #996515;
  --text-color: #333;
  --bg-color: #fafafa;
  --card-bg: #ffffff;
}

body {
  background: var(--bg-color);
  color: var(--text-color);
}

section, .plan-card, .modal-content {
  background-color: var(--card-bg);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
section:hover, .plan-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
}

/* Gradient Button Effects */
.btn {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: #fff;
  border: none;
  border-radius: 12px;
  padding: 12px 24px;
  font-weight: bold;
  font-size: 1rem;
  transition: all 0.3s ease-in-out;
}
.btn:hover {
  filter: brightness(1.1);
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

/* Smooth Slide Animations */
@keyframes fadeSlideIn {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}
section, .plan-card, .modal-content {
  animation: fadeSlideIn 0.7s ease forwards;
}

/* Header Refinement */
header {
  background: linear-gradient(120deg, var(--primary-color), var(--highlight-color));
  color: white;
  text-align: center;
  padding: 2rem 1rem;
  background-size: 200% 200%;
  animation: gradientFlow 10s ease infinite;
}
@keyframes gradientFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Accordion Button Glow Effect */
.accordion-button {
  border: 2px solid transparent;
  transition: all 0.3s ease-in-out;
}
.accordion-button:hover {
  border-color: var(--accent-color);
  background-color: #fffde7;
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

/* 🌈 Ripple Effect on Buttons */
.btn {
  position: relative;
  overflow: hidden;
}
.btn::after {
  content: "";
  background: rgba(255, 255, 255, 0.5);
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  animation: ripple 0.6s linear;
  pointer-events: none;
}
.btn:active::after {
  top: 50%;
  left: 50%;
  width: 100px;
  height: 100px;
  margin-left: -50px;
  margin-top: -50px;
  transform: scale(1);
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

/* Typing Animation */
.typing-text::after {
  content: '|';
  animation: blink 1s infinite;
}
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

/* Smooth Section Transitions */
.fade-in-up {
  animation: fadeInUp 0.8s ease both;
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Back to top button */



    body {
      transition: background 0.5s, color 0.5s;
    }
      background: #121212 !important;
      color: #eee !important;
    }
      background: rgba(255, 255, 255, 0.05) !important;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
    }
      background: #1e1e1e !important;
    }
    
.floating-bg {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
  overflow: hidden;
}
.floating-bg span {
  position: absolute;
  display: block;
  width: 40px; height: 40px;
  background: rgba(0, 121, 107, 0.15);
  border-radius: 50%;
  animation: floatAnim 20s linear infinite;
}
@keyframes floatAnim {
  0% { transform: translateY(100vh) scale(0.8); }
  100% { transform: translateY(-10vh) scale(1.2); }
}

.floating-bg span.leaf {
  width: 30px; height: 30px;
  background: rgba(76, 175, 80, 0.2);
  border-radius: 40% 60% 60% 40%;
}
.floating-bg span.lotus {
  width: 50px; height: 50px;
  background: rgba(255, 192, 203, 0.15);
  border-radius: 50%;
}
.floating-bg span.chakra {
  width: 28px; height: 28px;
  background: rgba(255, 235, 59, 0.2);
  border-radius: 50%;
}
.floating-bg span.sparkle {
  width: 20px; height: 20px;
  background: rgba(255, 255, 255, 0.12);
  border-radius: 50%;
  animation: floatAnim 18s ease-in-out infinite;
}
.floating-bg span.herb {
  width: 34px; height: 34px;
  background: rgba(139, 195, 74, 0.2);
  border-radius: 20% 40% 60% 80%;
}
.floating-bg span.pulse {
  width: 24px; height: 24px;
  background: rgba(0, 188, 212, 0.18);
  border-radius: 50%;
  animation: floatAnim 22s ease-in-out infinite;
}
.floating-bg span.star {
  width: 16px; height: 16px;
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
  animation: floatAnim 16s linear infinite;
}
</style>
<!-- Chat/Login Styles -->
<style>
section.visible {
  opacity: 1 !important;
  transform: translateY(0px) !important;
}


/* --- Enhanced Mobile-Friendly Header & Layout --- */
header {
  color: white;
  text-align: center;
  padding: 2rem 1rem;
  background: linear-gradient(120deg, #004d40, #00796b, #26a69a);
  background-size: 300% 300%;
  animation: gradientBG 10s ease infinite;
  display: flex;
  flex-direction: column;
  align-items: center;
}
header h1 {
  font-size: 2.5rem;
  margin: 0;
  font-family: 'Merriweather', serif;
}
header h3 {
  font-size: 1.1rem;
  font-weight: 400;
  margin-top: 0.5rem;
  opacity: 0.95;
}

/* Login Buttons Improved */
#login-button, #logout-button {
  background-color: #00897b;
  border: 1px solid #000;
  color: #fff;
  padding: 0.6rem 1.2rem;
  margin-top: 1rem;
  border-radius: 8px;
  font-weight: bold;
  transition: background-color 0.3s ease, transform 0.2s ease;
}
#login-button:hover, #logout-button:hover {
  background-color: #004d40;
  transform: translateY(-2px);
}

/* Ensure responsive sections and padding */
main {
  padding: 1rem;
  max-width: 100%;
  box-sizing: border-box;
}
section {
  margin-bottom: 2rem;
  padding: 1.5rem;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  transition: transform 0.3s ease, opacity 0.3s ease;
}
section:hover {
  transform: scale(1.01);
}

/* Media Queries for small screens */
@media (max-width: 600px) {
  header h1 { font-size: 1.8rem; }
  header h3 { font-size: 1rem; }
  #login-button, #logout-button {
    width: 100%;
    font-size: 1rem;
  }
  section {
    padding: 1rem;
  }
}


    body { font-family: 'Segoe UI', sans-serif; margin: 20px; background: #f4f4f4; }
    header { display: flex; justify-content: space-between; align-items: center; }
    #login-button, #logout-button { background-color: #00695c; border: 1px solid black; color: white; padding: 10px 20px; cursor: pointer; border-radius: 6px; }
    #user-profile { margin-top: 20px; }
    #chat-box { display: none; margin-top: 20px; }
    #messages { background: #fff; padding: 10px; border: 1px solid #ccc; height: 250px; overflow-y: auto; }
    .message { padding: 5px; margin: 5px 0; border-radius: 6px; background: #e1f5fe; }
    .message.you { background: #c8e6c9; text-align: right; }
    #messageInput { width: 70%; padding: 10px; }
    button.send-btn { padding: 10px; }
    select#recipientSelect { padding: 5px; }
  

#login-button, #logout-button {
  background-color: #00695c;
  border: 1px solid black;
  color: white;
  padding: 10px 20px;
  cursor: pointer;
  border-radius: 6px;
  margin: 5px;
}

/* --- Enhancements for Mobile Adaptation and Visuals --- */
.login-top-left {
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 1002;
}

#login-button-top {
  background-color: #00695c;
  color: white;
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: bold;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  transition: background-color 0.3s ease, transform 0.2s ease;
}

#login-button-top:hover {
  background-color: #004d40;
  transform: translateY(-2px);
}

@media (max-width: 600px) {
  .treatment-process {
    flex-direction: row !important;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
  }

  .process-step {
    flex: 1 1 45%;
    flex-direction: column !important;
    text-align: center;
    max-width: 220px;
  }

  .process-icon {
    width: 60px;
    height: 60px;
    font-size: 1.5em;
  }

  .plans-container {
    flex-direction: column;
    align-items: center;
  }

  .plan-card {
    min-width: 90%;
    max-width: 95%;
  }
}

.button-container .btn {
  transition: all 0.3s ease-in-out;
}

.button-container .btn:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}


    body {
      transition: background 0.5s, color 0.5s;
    }
      background: #121212 !important;
      color: #eee !important;
    }
      background: rgba(255, 255, 255, 0.05) !important;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
    }
      background: #1e1e1e !important;
    }
    
.floating-bg {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
  overflow: hidden;
}
.floating-bg span {
  position: absolute;
  display: block;
  width: 40px; height: 40px;
  background: rgba(0, 121, 107, 0.15);
  border-radius: 50%;
  animation: floatAnim 20s linear infinite;
}
@keyframes floatAnim {
  0% { transform: translateY(100vh) scale(0.8); }
  100% { transform: translateY(-10vh) scale(1.2); }
}

.floating-bg span.leaf {
  width: 30px; height: 30px;
  background: rgba(76, 175, 80, 0.2);
  border-radius: 40% 60% 60% 40%;
}
.floating-bg span.lotus {
  width: 50px; height: 50px;
  background: rgba(255, 192, 203, 0.15);
  border-radius: 50%;
}
.floating-bg span.chakra {
  width: 28px; height: 28px;
  background: rgba(255, 235, 59, 0.2);
  border-radius: 50%;
}
.floating-bg span.sparkle {
  width: 20px; height: 20px;
  background: rgba(255, 255, 255, 0.12);
  border-radius: 50%;
  animation: floatAnim 18s ease-in-out infinite;
}
.floating-bg span.herb {
  width: 34px; height: 34px;
  background: rgba(139, 195, 74, 0.2);
  border-radius: 20% 40% 60% 80%;
}
.floating-bg span.pulse {
  width: 24px; height: 24px;
  background: rgba(0, 188, 212, 0.18);
  border-radius: 50%;
  animation: floatAnim 22s ease-in-out infinite;
}
.floating-bg span.star {
  width: 16px; height: 16px;
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
  animation: floatAnim 16s linear infinite;
}
</style>
<!-- Auth0 and Firebase SDKs -->



<link href="manifest.json" rel="manifest"/>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(() => console.log('Service Worker Registered'));
  }
</script>
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100vw;
    max-width: 100%;
    overflow-x: hidden;
  }

  body {
    box-sizing: border-box;
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }

  section, .animated-section, .accordion-panel, .modal-content,
  .quiz-container, .plan-card, .form-group {
    max-width: 100vw !important;
    box-sizing: border-box;
    overflow-x: hidden;
  }

  .treatment-process,
  .plans-container,
  .button-container,
  .profile-container {
    flex-wrap: wrap !important;
    justify-content: center;
    max-width: 100% !important;
  }

  .process-step {
    flex: 1 1 100%;
    max-width: 100% !important;
    text-align: center;
  }

  .accordion-panel {
    padding: 0 1rem;
  }

  @media (max-width: 600px) {
    header h1 {
      font-size: 1.6rem !important;
    }

    header h3 {
      font-size: 1rem !important;
    }

    .plan-card, .modal-content {
      width: 95% !important;
    }
  }
</style>
<style>
  html, body {
    position: relative;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden !important;
    margin: 0;
    padding: 0;
    touch-action: pan-y;
  }

  body {
    box-sizing: border-box;
    -webkit-overflow-scrolling: touch;
  }

  * {
    box-sizing: border-box !important;
  }

  main, section, .container, .animated-section, .accordion-panel,
  .modal-content, .quiz-container, .plan-card, .form-group, .button-container {
    max-width: 100vw !important;
    overflow-x: hidden !important;
    margin: 0 auto !important;
  }

  .floating-bg {
    width: 100vw !important;
    overflow-x: hidden !important;
  }

  .side-nav {
    max-width: 100vw !important;
  }

  .login-top-right,
  .login-top-left {
    max-width: 100vw;
  }

  @media (max-width: 600px) {
    html, body {
      overflow-x: hidden !important;
    }
  }
</style>
</head>
<body>
<div class="floating-bg"><span class="lotus" style="left:21%;width:44px;height:44px;animation-delay:7s;"></span>
<span class="pulse" style="left:72%;width:24px;height:24px;animation-delay:3s;"></span>
<span class="star" style="left:55%;width:30px;height:30px;animation-delay:3s;"></span>
<span class="lotus" style="left:40%;width:44px;height:44px;animation-delay:2s;"></span>
<span class="lotus" style="left:41%;width:48px;height:48px;animation-delay:8s;"></span>
<span class="herb" style="left:38%;width:33px;height:33px;animation-delay:1s;"></span>
<span class="sparkle" style="left:30%;width:20px;height:20px;animation-delay:9s;"></span>
<span class="sparkle" style="left:96%;width:46px;height:46px;animation-delay:4s;"></span>
<span class="star" style="left:19%;width:26px;height:26px;animation-delay:2s;"></span>
<span class="sparkle" style="left:80%;width:33px;height:33px;animation-delay:3s;"></span>
<span class="star" style="left:14%;width:32px;height:32px;animation-delay:3s;"></span>
<span class="herb" style="left:6%;width:31px;height:31px;animation-delay:1s;"></span>
<span class="chakra" style="left:25%;width:37px;height:37px;animation-delay:1s;"></span>
<span class="pulse" style="left:96%;width:34px;height:34px;animation-delay:10s;"></span>
<span class="lotus" style="left:47%;width:24px;height:24px;animation-delay:10s;"></span>
<span class="herb" style="left:65%;width:38px;height:38px;animation-delay:7s;"></span>
<span class="lotus" style="left:2%;width:47px;height:47px;animation-delay:7s;"></span>
<span class="lotus" style="left:85%;width:39px;height:39px;animation-delay:1s;"></span>
<span class="chakra" style="left:34%;width:33px;height:33px;animation-delay:5s;"></span>
<span class="chakra" style="left:72%;width:48px;height:48px;animation-delay:6s;"></span>
<span class="leaf" style="left:39%;width:42px;height:42px;animation-delay:9s;"></span>
<span class="pulse" style="left:58%;width:22px;height:22px;animation-delay:6s;"></span>
<span class="pulse" style="left:90%;width:45px;height:45px;animation-delay:9s;"></span>
<span class="lotus" style="left:78%;width:39px;height:39px;animation-delay:8s;"></span>
<span class="sparkle" style="left:67%;width:37px;height:37px;animation-delay:0s;"></span>
<span class="herb" style="left:23%;width:41px;height:41px;animation-delay:8s;"></span>
<span class="sparkle" style="left:39%;width:32px;height:32px;animation-delay:2s;"></span>
<span class="pulse" style="left:51%;width:24px;height:24px;animation-delay:10s;"></span>
<span class="pulse" style="left:27%;width:46px;height:46px;animation-delay:6s;"></span>
<span class="sparkle" style="left:49%;width:26px;height:26px;animation-delay:1s;"></span>
<span class="pulse" style="left:75%;width:50px;height:50px;animation-delay:2s;"></span>
<span class="chakra" style="left:37%;width:25px;height:25px;animation-delay:3s;"></span>
<span class="sparkle" style="left:80%;width:42px;height:42px;animation-delay:9s;"></span>
<span class="pulse" style="left:90%;width:42px;height:42px;animation-delay:1s;"></span>
<span class="star" style="left:35%;width:33px;height:33px;animation-delay:5s;"></span>
</div>
<div class="floating-bg">
<!-- New Animated Ayurveda-Themed Elements -->
<span class="trishula" style="left:10%;width:40px;height:40px;animation-delay:3s;"></span>
<span class="om-symbol" style="left:30%;width:36px;height:36px;animation-delay:6s;"></span>
<span class="herbal-symbol" style="left:50%;width:32px;height:32px;animation-delay:9s;"></span>
<span class="sun-orb" style="left:70%;width:42px;height:42px;animation-delay:5s;"></span>
<span class="moon-orb" style="left:90%;width:35px;height:35px;animation-delay:8s;"></span>
<span class="pulse-ring" style="left:25%;width:30px;height:30px;animation-delay:4s;"></span>
<span class="fog-mist" style="left:45%;width:50px;height:50px;animation-delay:7s;"></span>
<span class="sanskrit" style="left:60%;width:38px;height:38px;animation-delay:10s;"></span>
<span class="herbal-leaf" style="left:80%;width:46px;height:46px;animation-delay:2s;"></span>
<span class="chakra-flow" style="left:15%;width:28px;height:28px;animation-delay:1s;"></span>
</div>
<style>
/* Additional Aesthetic Floating Elements */
.floating-bg span.trishula {
  background: rgba(255, 87, 34, 0.2);
  border-radius: 40%;
  animation: floatAnim 21s ease-in-out infinite;
}
.floating-bg span.om-symbol {
  background: rgba(63, 81, 181, 0.2);
  border-radius: 50%;
  animation: floatAnim 22s ease-in-out infinite;
}
.floating-bg span.herbal-symbol {
  background: rgba(76, 175, 80, 0.25);
  border-radius: 40% 60% 40% 60%;
}
.floating-bg span.sun-orb {
  background: radial-gradient(circle, rgba(255, 235, 59, 0.25) 0%, transparent 80%);
  border-radius: 50%;
}
.floating-bg span.moon-orb {
  background: radial-gradient(circle, rgba(144, 202, 249, 0.3) 0%, transparent 70%);
  border-radius: 50%;
}
.floating-bg span.pulse-ring {
  background: rgba(0, 150, 136, 0.18);
  border-radius: 50%;
}
.floating-bg span.fog-mist {
  background: rgba(200, 255, 255, 0.1);
  border-radius: 50%;
}
.floating-bg span.sanskrit {
  background: rgba(156, 39, 176, 0.2);
  border-radius: 50%;
}
.floating-bg span.herbal-leaf {
  background: rgba(139, 195, 74, 0.3);
  border-radius: 60% 40% 50% 50%;
}
.floating-bg span.chakra-flow {
  background: rgba(255, 152, 0, 0.25);
  border-radius: 50%;
}
</style>

<!-- Login + Chat UI -->
<div id="user-profile" style="display:none;"></div>
<!-- Original site content -->
<div aria-controls="side-nav" aria-expanded="false" aria-label="Open Navigation Menu" class="hamburger-menu" id="hamburger-menu" role="button">
<span></span><span></span><span></span>
</div>
<nav aria-label="Main Navigation" class="side-nav" id="side-nav">
<a aria-label="Close Navigation" class="close-btn" href="javascript:void(0)" id="close-nav" role="button">×</a>
<a class="nav-link" data-content="about" href="#">About Us</a>
<a class="nav-link" data-modal-target="appointment-modal" href="#">Book Appointment</a>
<a class="nav-link" data-content="ayurveda" href="#">What is Ayurveda</a>
<a class="nav-link" data-content="prakriti" href="#">What is Prakriti &amp; Dosha</a>
<a class="nav-link" data-content="mission" href="#">My Mission</a>
<a class="nav-link" data-modal-target="blog-modal" href="#">Blog</a>
<a class="nav-link" href="javascript:void(0)" id="darkModeToggle" style="display: flex; align-items: center; justify-content: flex-start; padding-left: 25px; margin-top: 10px;">
  <i class="fa-solid fa-moon" style="margin-right: 10px;"></i>
  <label class="switch">
    <input type="checkbox" id="darkSwitch">
    <span class="slider round"></span>
  </label>
</a>
<style>
.switch {
  position: relative;
  display: inline-block;
  width: 40px;
  height: 22px;
}
.switch input { display: none; }
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0;
  right: 0; bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 34px;
}
.slider:before {
  position: absolute;
  content: "";
  height: 16px; width: 16px;
  left: 3px; bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}
input:checked + .slider {
  background-color: #2196F3;
}
input:checked + .slider:before {
  transform: translateX(18px);
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const toggle = document.getElementById('darkSwitch');
  const body = document.body;
  toggle.addEventListener('change', function () {
    if (toggle.checked) {
      body.classList.add('dark-mode');
      localStorage.setItem('darkMode', 'enabled');
    } else {
      body.classList.remove('dark-mode');
      localStorage.setItem('darkMode', 'disabled');
    }
  });
  if (localStorage.getItem('darkMode') === 'enabled') {
    body.classList.add('dark-mode');
    toggle.checked = true;
  }
});
</script>
<style>
body.dark-mode {
  background-color: #121212 !important;
  color: #eee !important;
}
body.dark-mode section,
body.dark-mode .plan-card,
body.dark-mode .modal-content {
  background-color: #1e1e1e !important;
  color: #eee !important;
  box-shadow: 0 0 15px rgba(255,255,255,0.05);
}
body.dark-mode .accordion-button {
  background-color: #1e1e1e !important;
  color: #fff;
}
body.dark-mode .accordion-panel {
  background-color: #222 !important;
}
</style>

</nav>
<header>
<h1>SattvaGriha</h1>
<h3 class="typing-text" data-text="Personalized Guidance from a Passionate Ayurveda Scholar"></h3>
</header>
<main>
<section aria-labelledby="about-us-heading" class="animated-section">
<div class="profile-container">
<figure>
<img alt="SattvaGriha Ayurveda Logo" class="profile-logo" loading="lazy" src="https://uploads.onecompiler.io/43nsnubhq/43nsqadnu/1000000504.jpg"/>
<figcaption class="sr-only">SattvaGriha Ayurveda Logo</figcaption>
</figure>
<div>
<h2 id="about-us-heading">About Your Guide</h2>
<p><strong>Welcome!</strong> I’m Laxminarayan, a BAMS student (graduating 2028) and Ayurveda practitioner-in-training. At SattvaGriha, I blend ancient wisdom with modern living for personalized healing. My mission: to guide you toward lasting vitality through Prakriti and Saara-based care.</p>
</div>
</div>
</section>
<div style="position:relative;margin-bottom:-5px;overflow:hidden;line-height:0;">
<svg preserveaspectratio="none" style="display:block;width:100%;" viewbox="0 0 500 50">
<path d="M0,0 C150,100 350,0 500,100 L500,00 L0,0 Z" style="stroke:none;fill:#e0f2f1;"></path>
</svg>
</div>
<section aria-labelledby="treatment-works-heading" class="animated-section">
<h2 id="treatment-works-heading">How Our Treatment Works</h2>
<div class="treatment-process">
<div class="process-step">
<div aria-hidden="true" class="process-icon"><i class="fa-solid fa-calendar-check"></i></div>
<div class="process-text"><h4>Step 1: Consultation</h4><p>Book a slot and begin your wellness journey with an initial consultation call.</p></div>
</div>
<div class="process-step">
<div aria-hidden="true" class="process-icon"><i class="fa-solid fa-file-medical"></i></div>
<div class="process-text"><h4>Step 2: Share Details</h4><p>Provide the complete history and details of your health concerns.</p></div>
</div>
<div class="process-step">
<div aria-hidden="true" class="process-icon"><i class="fa-solid fa-calculator"></i></div>
<div class="process-text"><h4>Step 3: Assessment</h4><p>I will perform an in-depth assessment of your Prakriti, Saara, and Dosha imbalances.</p></div>
</div>
<div class="process-step">
<div aria-hidden="true" class="process-icon"><i class="fa-solid fa-clipboard-list"></i></div>
<div class="process-text"><h4>Step 4: Treatment Plan</h4><p>You will receive a personalized treatment plan including diet, herbs, and lifestyle advice.</p></div>
</div>
</div>
</section>
<div style="position:relative;margin-bottom:-5px;overflow:hidden;line-height:0;">
<svg preserveaspectratio="none" style="display:block;width:100%;" viewbox="0 0 500 50">
<path d="M0,0 C150,100 350,0 500,100 L500,00 L0,0 Z" style="stroke:none;fill:#e0f2f1;"></path>
</svg>
</div>
<section aria-labelledby="conditions-heading" class="animated-section">
<h2 id="conditions-heading">Conditions We Address</h2>
<p style="text-align: center;">Ayurveda focuses on root-cause treatment, balance of doshas (Vata, Pitta, Kapha), and strengthening immunity (Ojas) rather than just symptomatic relief.</p>
<button aria-controls="panel-digestive" aria-expanded="false" class="accordion-button">🔥 Digestive System Disorders (Annavaha Srotas)</button>
<div aria-labelledby="accordion-button-digestive" class="accordion-panel" id="panel-digestive" role="region">
<ul>
<li>Agnimandya – Low digestive fire (indigestion)</li>
<li>Amlapitta – Acid reflux, hyperacidity</li>
<li>Arshas – Piles/hemorrhoids</li>
<li>Grahani – IBS, malabsorption syndrome</li>
<li>Atisara – Diarrhea</li>
<li>Vibandha - Constipation</li>
<li>Anaha – Bloating, flatulence</li>
<li>Krimi Roga – Intestinal worms</li>
<li>Yakrit Roga – Liver disorders (supportive care)</li>
</ul>
</div>
<button aria-controls="panel-respiratory" aria-expanded="false" class="accordion-button">️🫁 Respiratory System (Pranavaha Srotas)</button>
<div aria-labelledby="accordion-button-respiratory" class="accordion-panel" id="panel-respiratory" role="region">
<ul>
<li>Kasa – Acute/chronic cough</li>
<li>Pratishyaya – Allergic or chronic rhinitis</li>
<li>Peenasa – Sinusitis</li>
<li>Tamak Shwasa – Bronchial asthma</li>
<li>Tundikeri – Tonsillitis</li>
<li>Swara Bheda – Hoarseness of voice</li>
</ul>
</div>
<button aria-controls="panel-skin" aria-expanded="false" class="accordion-button">🧴 Skin Diseases (Tvak Vikaras)</button>
<div aria-labelledby="accordion-button-skin" class="accordion-panel" id="panel-skin" role="region">
<ul>
<li>Kushta – Chronic skin diseases (e.g., eczema, psoriasis, vitiligo)</li>
<li>Dadru – Fungal infections</li>
<li>Vyanga – Hyperpigmentation, melasma</li>
<li>Yuvan Pidika - Acne/Pimples</li>
<li>Ruksha Tvacha - Dry Skin / Cracked Heels</li>
</ul>
</div>
<button aria-controls="panel-joints" aria-expanded="false" class="accordion-button">🦴 Joint and Muscle Disorders</button>
<div aria-labelledby="accordion-button-joints" class="accordion-panel" id="panel-joints" role="region">
<ul>
<li>Amavata – Rheumatoid arthritis</li>
<li>Sandhivata – Osteoarthritis</li>
<li>Vatarakta – Gout</li>
<li>Kati Shoola - Back pain</li>
<li>Gridhrasi - Sciatica</li>
<li>Apabahuka - Frozen shoulder</li>
<li>Spondylosis / cervical pain</li>
</ul>
</div>
<button aria-controls="panel-stress" aria-expanded="false" class="accordion-button">😴 Stress, Sleep &amp; Mind (Manas Roga)</button>
<div aria-labelledby="accordion-button-stress" class="accordion-panel" id="panel-stress" role="region">
<ul>
<li>Nidranasha – Insomnia</li>
<li>Chinta, Shoka, Bhaya – Anxiety, grief, fear-related issues</li>
<li>Memory loss / Poor concentration</li>
<li>Excessive stress / Burnout</li>
</ul>
</div>
<button aria-controls="panel-womens" aria-expanded="false" class="accordion-button">️🧏‍♀️ Women’s Health (Striroga)</button>
<div aria-labelledby="accordion-button-womens" class="accordion-panel" id="panel-womens" role="region">
<ul>
<li>Artava Vyapad – Irregular or painful periods</li>
<li>PCOS/PCOD hormonal imbalance</li>
<li>Yoni Vyapad – Vaginal infections, leucorrhea</li>
<li>Vandhyatva - Infertility (Supportive therapy)</li>
<li>Menopause symptoms</li>
</ul>
</div>
<button aria-controls="panel-lifestyle" aria-expanded="false" class="accordion-button">🍟 Lifestyle Diseases</button>
<div aria-labelledby="accordion-button-lifestyle" class="accordion-panel" id="panel-lifestyle" role="region">
<ul>
<li>Sthoulya - Obesity</li>
<li>Madhumeha - Type 2 Diabetes</li>
<li>High Cholesterol</li>
<li>Rakta Gata Vata - Hypertension</li>
<li>Fatty Liver / NAFLD</li>
<li>Thyroid disorders (Hypo &amp; Hyper)</li>
</ul>
</div>
<button aria-controls="panel-other" aria-expanded="false" class="accordion-button">🌿 Other Speciality Areas</button>
<div aria-labelledby="accordion-button-other" class="accordion-panel" id="panel-other" role="region">
<ul>
<li>Ojakshaya - Weak immunity</li>
<li>Jwara - Fever (Viral, seasonal)</li>
<li>Mutrakrichra - Mild UTI</li>
<li>Rasayana - Rejuvenation therapy</li>
<li>Vajikarana - Sexual wellness</li>
<li>Khalitya/Palitya - Hair fall / premature greying</li>
<li>Netra Roga - Eyesight issues</li>
</ul>
</div>
</section>
<div style="position:relative;margin-bottom:-5px;overflow:hidden;line-height:0;">
<svg preserveaspectratio="none" style="display:block;width:100%;" viewbox="0 0 500 50">
<path d="M0,0 C150,100 350,0 500,100 L500,00 L0,0 Z" style="stroke:none;fill:#e0f2f1;"></path>
</svg>
</div>
<section aria-labelledby="first-step-heading" class="animated-section" style="text-align:center;">
<h2 id="first-step-heading">Your First Step: Initial Consultation</h2>
<p>Begin your wellness journey with a detailed one-on-one consultation.</p>
<div class="price">₹49 / $2</div>
<p>This includes personalized recommendations and <strong>7 days</strong> of follow-up support on call or WhatsApp.</p>
</section>
<div style="position:relative;margin-bottom:-5px;overflow:hidden;line-height:0;">
<svg preserveaspectratio="none" style="display:block;width:100%;" viewbox="0 0 500 50">
<path d="M0,0 C150,100 350,0 500,100 L500,00 L0,0 Z" style="stroke:none;fill:#e0f2f1;"></path>
</svg>
</div>
<section aria-labelledby="wellness-journeys-heading" class="animated-section">
<h2 id="wellness-journeys-heading">Ongoing Wellness Journeys</h2>
<p style="text-align:center;">For those seeking continuous guidance, I offer the following plans.</p>
<div class="plans-container">
<div class="plan-card">
<h3>🩺 General Consultation</h3>
<p>For regular follow-ups and adapting your lifestyle for sustained health.</p>
<div class="price-details">
<strong>Monthly:</strong> ₹149 / $5 <br/>
<strong>Yearly:</strong> ₹999 / $49
                </div>
</div>
<div class="plan-card">
<h3>🧘 Yoga, Nutrition &amp; Supportive Care</h3>
<p>An integrated approach combining diet, herbs, and yoga for complete balance.</p>
<div class="price-details">
<strong>Monthly:</strong> ₹199 / $9 <br/>
<strong>Yearly:</strong> ₹1499 / $89
                </div>
</div>
</div>
</section>
<div style="position:relative;margin-bottom:-5px;overflow:hidden;line-height:0;">
<svg preserveaspectratio="none" style="display:block;width:100%;" viewbox="0 0 500 50">
<path d="M0,0 C150,100 350,0 500,100 L500,00 L0,0 Z" style="stroke:none;fill:#e0f2f1;"></path>
</svg>
</div>
<section aria-labelledby="body-constitution-heading" class="animated-section" style="text-align:center;">
<h2 id="body-constitution-heading">Know Your Body Constitution</h2>
<p>Discover your unique Ayurvedic Prakriti (body type) and Saara (tissue quality) with our guided assessment. Understanding your constitution is the first step towards personalized health and wellness.</p>
<div class="button-container">
<button aria-controls="assessment-modal" class="btn" data-modal-target="assessment-modal">
<i class="fa-solid fa-flask-vial"></i> Start Assessment
            </button>
</div>
</section>
<div style="position:relative;margin-bottom:-5px;overflow:hidden;line-height:0;">
<svg preserveaspectratio="none" style="display:block;width:100%;" viewbox="0 0 500 50">
<path d="M0,0 C150,100 350,0 500,100 L500,00 L0,0 Z" style="stroke:none;fill:#e0f2f1;"></path>
</svg>
</div>
<section aria-labelledby="begin-journey-heading" class="animated-section" style="text-align:center;">
<h2 id="begin-journey-heading">Ready to Begin?</h2>
<p>Contact me to book your initial consultation. All consultations are held online.</p>
<div class="button-container">
<button aria-controls="appointment-modal" class="btn" data-modal-target="appointment-modal">
<i class="fa-solid fa-calendar-check"></i> Book an Appointment
            </button>
<a class="btn" href="tel:+916364514741">
<i class="fas fa-phone"></i>Call Now
            </a>
</div>
</section>
</main>
<footer>
<p>© 2025 SattvaGriha. All rights reserved.</p>
<p class="disclaimer">
<strong>Disclaimer:</strong> This consultation service is provided by a BAMS (Bachelor of Ayurvedic Medicine and Surgery) student for general wellness, preventive care, and educational purposes<span id="disclaimer-dots">... </span><a aria-controls="disclaimer-more-text" aria-expanded="false" id="disclaimer-more-btn" role="button">more</a><span id="disclaimer-more-text" style="display: none;">. The guidance is based on Ayurvedic principles and basic knowledge of modern medicine. It is not a substitute for diagnosis or treatment by a licensed doctor, and should not be used in medical emergencies or life-threatening conditions. For urgent medical issues, please contact your nearest hospital or a qualified healthcare provider immediately.</span>
</p>
</footer>
<div aria-labelledby="modal-title" aria-modal="true" class="modal" id="info-modal" role="dialog">
<div class="modal-content">
<button aria-label="Close information modal" class="close-modal">×</button>
<h2 id="modal-title"></h2>
<p id="modal-text"></p>
</div>
</div>
<div aria-labelledby="assessment-modal-title" aria-modal="true" class="modal" id="assessment-modal" role="dialog">
<div class="modal-content" style="padding:0; max-width: 650px;">
<button aria-label="Close assessment quiz modal" class="close-modal">×</button>
<div class="quiz-container">
<div id="welcome-screen">
<div class="quiz-header">
<h1 id="assessment-modal-title">Ayurvedic Constitution Quiz</h1>
</div>
<div class="quiz-body">
<div class="welcome-text">
<p>This questionnaire is prepared by <span class="emphasis">Laxminarayan (Ayurveda scholar)</span> based on classical Ayurvedic textbooks. For a complete and actual assessment, please consult an Ayurvedic expert.</p>
<p>This assessment is designed to be nearly equivalent to the standard Saara and Prakriti assessment questionnaires recognized by <span class="emphasis">AYUSH</span>.</p>
</div>
<form class="user-info-form" id="user-info-form">
<div class="form-group">
<label for="name">Name:</label>
<input aria-required="true" id="name" name="name" required="" type="text"/>
</div>
<div class="form-group">
<label for="age">Age:</label>
<input aria-required="true" id="age" name="age" required="" type="number"/>
</div>
<div class="form-group">
<label>Sex:</label>
<div aria-labelledby="sex-label" class="radio-group" role="radiogroup">
<span class="sr-only" id="sex-label">Select your sex</span>
<input aria-required="true" id="male" name="sex" required="" type="radio" value="male"/>
<label for="male">Male</label>
<input id="female" name="sex" type="radio" value="female"/>
<label for="female">Female</label>
</div>
</div>
<div class="form-group">
<label for="occupation">Occupation:</label>
<input id="occupation" name="occupation" type="text"/>
</div>
<div class="form-group">
<label for="city">City Name:</label>
<input id="city" name="city" type="text"/>
</div>
<button class="btn" id="start-quiz-btn" type="submit">Agree and Continue</button>
</form>
</div>
</div>
<div class="hidden" id="quiz-screen">
<div class="quiz-header">
<h1>Assessment in Progress</h1>
</div>
<div class="quiz-body">
<div aria-label="Quiz Progress" aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="progress-bar-container" role="progressbar">
<div class="progress-bar" id="progress-bar"></div>
</div>
<p class="section-title" id="section-title"></p>
<h2 class="question-title" id="question-title"></h2>
<div class="options-container" id="options-container"></div>
</div>
</div>
<div class="hidden" id="results-container">
<div class="quiz-header">
<h1>Assessment Complete</h1>
</div>
<div class="results-body" style="padding: 1.5rem 2rem 2rem 2rem;">
<h2 id="results-greeting" style="text-align:center;"></h2>
<div class="dominant-result">
<h3>Your Dominant Prakriti (Constitution)</h3>
<p id="dominant-prakriti"></p>
</div>
<div aria-label="Prakriti distribution chart" class="chart-container" role="img">
<canvas id="prakriti-chart"></canvas>
<div class="percentage-summary" id="prakriti-percentages"></div>
</div>
<div class="dominant-result" style="margin-top: 2.5rem;">
<h3>Your Dominant Saara (Tissue Essence)</h3>
<p id="dominant-saara"></p>
</div>
<div aria-label="Saara distribution chart" class="chart-container" role="img">
<canvas id="saara-chart"></canvas>
<div class="percentage-summary" id="saara-percentages"></div>
</div>
<p class="disclaimer">
                        This result is a guide based on your answers. For a complete and accurate diagnosis, including pulse examination, it is recommended to consult a qualified Ayurvedic practitioner.
                    </p>
<div class="results-buttons">
<button class="btn" id="restart-btn">Take Quiz Again</button>
<button class="btn" id="print-btn">Print Results</button>
<button class="btn whatsapp" id="whatsapp-results-btn" style="flex-basis: 100%; margin-top: 1rem;"><i class="fab fa-whatsapp"></i> Share Results &amp; Book Consultation</button>
</div>
</div>
</div>
</div>
</div>
</div>
<div aria-labelledby="appointment-modal-title" aria-modal="true" class="modal" id="appointment-modal" role="dialog">
<div class="modal-content">
<button aria-label="Close appointment form modal" class="close-modal">×</button>
<h2 id="appointment-modal-title" style="text-align:center;">Book Your Appointment</h2>
<p style="text-align:center; margin-top:-15px; margin-bottom:25px; white-space:normal;">Please fill the required fields. Your details will be sent to me on WhatsApp for confirmation.</p>
<form id="appointment-form">
<div class="form-group">
<label for="appt-name">Full Name:</label>
<input aria-required="true" id="appt-name" name="name" required="" type="text"/>
</div>
<div class="form-group">
<label>Gender:</label>
<div aria-labelledby="appt-gender-label" class="radio-group" role="radiogroup">
<span class="sr-only" id="appt-gender-label">Select your gender</span>
<input aria-required="true" id="appt-male" name="gender" required="" type="radio" value="Male"/>
<label for="appt-male">Male</label>
<input id="appt-female" name="gender" type="radio" value="Female"/>
<label for="appt-female">Female</label>
<input id="appt-other" name="gender" type="radio" value="Other"/>
<label for="appt-other">Other</label>
</div>
</div>
<div class="form-group">
<label for="appt-age">Age:</label>
<input aria-required="true" id="appt-age" min="1" name="age" required="" type="number"/>
</div>
<div class="form-group">
<label>Nationality:</label>
<div aria-labelledby="appt-nationality-label" class="radio-group" role="radiogroup">
<span class="sr-only" id="appt-nationality-label">Select your nationality</span>
<input aria-required="true" id="nat-indian" name="nationality" required="" type="radio" value="Indian"/>
<label for="nat-indian">Indian</label>
<input id="nat-non-indian" name="nationality" type="radio" value="Non-Indian"/>
<label for="nat-non-indian">Non-Indian</label>
</div>
</div>
<div class="form-group">
<label for="appt-package">Select a Plan:</label>
<select aria-required="true" id="appt-package" name="package" required="">
<option disabled="" selected="" value="">-- Please select a plan --</option>
<option value="Initial Consultation Only">Initial Consultation Only</option>
<option value="General Consultation (Monthly)">General Consultation (Monthly)</option>
<option value="General Consultation (Yearly)">General Consultation (Yearly)</option>
<option value="Yoga, Nutrition &amp; Supportive Care (Monthly)">Yoga, Nutrition &amp; Supportive Care (Monthly)</option>
<option value="Yoga, Nutrition &amp; Supportive Care (Yearly)">Yoga, Nutrition &amp; Supportive Care (Yearly)</option>
<option value="Just a General Query">Just a General Query</option>
</select>
</div>
<div class="form-group" id="fee-container" style="display: none;">
<label>Plan Fee:</label>
<p id="fee-text"></p>
</div>
<div class="form-group">
<label for="appt-reason">Reason for Consultation (Your health issue):</label>
<textarea aria-required="true" id="appt-reason" name="reason" required="" rows="4"></textarea>
</div>
<div class="form-group">
<label for="appt-other-details">Additional Details (illness duration, past treatments) (Optional):</label>
<textarea id="appt-other-details" name="other_details" rows="2"></textarea>
</div>
<div class="button-container">
<button class="btn whatsapp" type="submit"><i class="fab fa-whatsapp"></i> Submit via WhatsApp</button>
</div>
</form>
</div>
</div>
<div aria-labelledby="blog-modal-title" aria-modal="true" class="modal" id="blog-modal" role="dialog">
<div class="modal-content">
<button aria-label="Close blog modal" class="close-modal">×</button>
<div class="modal-header"><h2 id="blog-modal-title">Our Blog</h2></div>
<div id="blog-index-view"></div>
<div class="hidden" id="blog-content-view">
<button aria-label="Back to all blog articles" class="back-to-blogs-btn"><i class="fas fa-arrow-left"></i> Back to All Articles</button>
<h2 id="blog-post-title"></h2>
<nav aria-label="Blog Post Sections" class="blog-tabs-nav" id="blog-tabs-nav"></nav>
<div id="blog-tab-content-container"></div>
</div>
</div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function() {

    // --- ROBUST INITIALIZATION ---
    function init() {
        initAnimationObserver();
        initMobileNav();
        initMainAccordions();
        initModals(); // Handles info, appointment, and quiz modals
        initBlog(); // Handles blog modal logic
        initAppointmentForm(); // Separate init for appointment form details
        initQuiz(); // Separate init for quiz details
        initDisclaimer(); // Initialize disclaimer logic
    }

    // --- ANIMATION OBSERVER ---
    function initAnimationObserver() {
        const sections = document.querySelectorAll('.animated-section');
        if (!sections.length) return;
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });
        sections.forEach(section => observer.observe(section));
    }

    // --- MOBILE NAVIGATION ---
    function initMobileNav() {
        const hamburger = document.getElementById('hamburger-menu');
        const sideNav = document.getElementById('side-nav');
        const closeNavBtn = document.getElementById('close-nav');
        const navLinks = document.querySelectorAll('.side-nav .nav-link');

        if (!hamburger || !sideNav || !closeNavBtn) return;

        const openNav = () => {
            sideNav.style.width = "280px";
            hamburger.classList.add('active');
            hamburger.setAttribute('aria-expanded', 'true');
            sideNav.setAttribute('aria-hidden', 'false'); // For accessibility
        };
        const closeNav = () => {
            sideNav.style.width = "0";
            hamburger.classList.remove('active');
            hamburger.setAttribute('aria-expanded', 'false');
            sideNav.setAttribute('aria-hidden', 'true'); // For accessibility
        };

        hamburger.addEventListener('click', () => (sideNav.style.width === "280px" ? closeNav() : openNav()));
        closeNavBtn.addEventListener('click', closeNav);
        navLinks.forEach(link => link.addEventListener('click', closeNav));

        // Add initial aria-hidden state for screen readers
        sideNav.setAttribute('aria-hidden', 'true');
    }

    // --- MAIN PAGE ACCORDIONS ---
    function initMainAccordions() {
        const accordions = document.querySelectorAll('main .accordion-button');
        if (!accordions.length) return;

        accordions.forEach(button => {
            button.addEventListener('click', function() {
                const panel = this.nextElementSibling;
                const isExpanded = this.classList.contains('active');

                // Close all other accordions and reset their aria-expanded state
                accordions.forEach(btn => {
                    const otherPanel = btn.nextElementSibling;
                    if (btn !== this && btn.classList.contains('active')) {
                        btn.classList.remove('active');
                        otherPanel.style.maxHeight = null;
                        otherPanel.classList.remove("open");
                        btn.setAttribute('aria-expanded', 'false');
                    }
                });

                // Toggle the clicked accordion
                if (!isExpanded) {
                    this.classList.add('active');
                    panel.style.maxHeight = panel.scrollHeight + "px";
                    panel.classList.add("open"); // For list item animation
                    this.setAttribute('aria-expanded', 'true');
                } else {
                    this.classList.remove('active');
                    panel.style.maxHeight = null;
                    panel.classList.remove("open");
                    this.setAttribute('aria-expanded', 'false');
                }
            });
        });
    }

    // --- GENERAL MODAL LOGIC (Open/Close for any modal) ---
    function initModals() {
        const modalData = {
          'about': {
              title: 'About Us',
              text: `Welcome to SattvaGriha! I’m Laxminarayan, a BAMS student (graduating 2028) and a passionate Ayurveda practitioner-in-training. At SattvaGriha, my focus is on blending the timeless, ancient wisdom of Ayurveda with the realities of modern living to offer you a path to personalized healing.\n\nI believe in a holistic approach, delving deep into your unique body constitution (Prakriti) and the quality of your tissues (Saara) to create a tailored wellness plan. My goal is to empower you with the knowledge and tools to achieve lasting health and vitality.\n\nFor any query, reach us at sattvagriha@gmail.com.`
          },
          'ayurveda': {
              title: 'What is Ayurveda?',
              text: `Ayurveda, often called the "science of life," is one of the world's oldest holistic healing systems, originating in India over 5,000 years ago. It's based on the belief that health and wellness depend on a delicate balance between the mind, body, and spirit.\n\nAyurveda is not just about treating disease; it's a comprehensive lifestyle guide that promotes longevity and vitality through diet, herbal remedies, yoga, meditation, and personalized daily routines. Its primary goal is to cleanse the body of impurities (ama) and restore balance to the body's fundamental energies (doshas).`
          },
          'prakriti': {
              title: 'What is Prakriti & Dosha?',
              text: `In Ayurveda, these three concepts are fundamental to understanding your unique makeup.\n\n• Doshas (Vata, Pitta, Kapha): These are the three primary life forces or energies that govern all physiological and psychological functions in the body. Everyone has a unique mix of the three, with one or two being dominant.\n\n• Prakriti: This is your unique, inherent constitution, determined at the moment of conception. It represents your natural balance of the doshas and remains constant throughout your life. Knowing your Prakriti helps in understanding your predispositions, strengths, and weaknesses, forming the basis for personalized diet and lifestyle choices.\n\n• Saara: This refers to the optimal quality, or essence, of your seven bodily tissues (Dhatus). A strong Saara indicates excellent health, immunity, and vitality. Assessing Saara helps in understanding the overall strength and resilience of your body.`
          },
          'mission': {
              title: 'My Mission',
              text: `My mission through SattvaGriha is to make the timeless wisdom of Ayurveda accessible and practical for everyone. I aim to demystify its principles and provide clear, actionable guidance that you can integrate into your daily life.\n\nBy focusing on root-cause analysis and personalized care based on Prakriti and Saara, I strive to help you move beyond temporary fixes and cultivate a state of true, sustainable well-being. My commitment is to be your dedicated guide on your journey toward a balanced, healthier, and more vibrant life.`
          }
        };

        const modals = document.querySelectorAll('.modal');
        function openModal(modal) {
            modal.style.display = 'block';
            modal.setAttribute('aria-hidden', 'false');
            modal.focus(); // Set focus to the modal for accessibility
        }

        function closeModal(modal) {
            modal.style.display = 'none';
            modal.setAttribute('aria-hidden', 'true');
            // Return focus to the element that opened the modal (if possible)
            document.activeElement.blur(); // Remove focus from the closed modal
        }

        document.body.addEventListener('click', function(e) {
            const openTrigger = e.target.closest('[data-modal-target]');
            if (openTrigger) {
                e.preventDefault(); // Prevent default link/button action
                const modalId = openTrigger.dataset.modalTarget;
                const modal = document.getElementById(modalId);
                if (modal) {
                    openModal(modal);
                    if (modalId === 'blog-modal') renderBlogIndex(); // Specific for blog modal
                }
            }

            const infoTrigger = e.target.closest('[data-content]');
            if (infoTrigger) {
                e.preventDefault();
                const contentKey = infoTrigger.dataset.content;
                const content = modalData[contentKey];
                const infoModal = document.getElementById('info-modal');
                if (content && infoModal) {
                    infoModal.querySelector('#modal-title').textContent = content.title;
                    infoModal.querySelector('#modal-text').textContent = content.text;
                    openModal(infoModal);
                }
            }

            const closeTrigger = e.target.closest('.close-modal');
            if (closeTrigger) {
                closeModal(closeTrigger.closest('.modal'));
            }
        });

        // Close modal by clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                closeModal(e.target);
            }
        });

        // Close modal with Escape key
        window.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                modals.forEach(modal => {
                    if (modal.style.display === 'block') {
                        closeModal(modal);
                    }
                });
            }
        });
    }

    // --- DISCLAIMER LOGIC ---
    function initDisclaimer() {
        const moreBtn = document.getElementById("disclaimer-more-btn");
        const dots = document.getElementById("disclaimer-dots");
        const moreText = document.getElementById("disclaimer-more-text");

        if (moreBtn && dots && moreText) {
            moreBtn.addEventListener("click", function(e) {
                e.preventDefault();
                dots.style.display = "none";
                moreText.style.display = "inline";
                this.style.display = "none";
                this.setAttribute('aria-expanded', 'true'); // Update aria-expanded
            });
        }
    }

    // --- APPOINTMENT FORM LOGIC ---
    function initAppointmentForm() {
        const planPrices = {
            'Initial Consultation Only': { indian: '₹49', nonIndian: '$2' },
            'General Consultation (Monthly)': { indian: '₹149', nonIndian: '$5' },
            'General Consultation (Yearly)': { indian: '₹999', nonIndian: '$49' },
            'Yoga, Nutrition & Supportive Care (Monthly)': { indian: '₹199', nonIndian: '$9' },
            'Yoga, Nutrition & Supportive Care (Yearly)': { indian: '₹1499', nonIndian: '$89' },
            'Just a General Query': { indian: 'No Fee', nonIndian: 'No Fee' }
        };

        const appointmentForm = document.getElementById('appointment-form');
        const planSelect = document.getElementById('appt-package');
        const nationalityRadios = document.querySelectorAll('input[name="nationality"]');
        const feeContainer = document.getElementById('fee-container');
        const feeText = document.getElementById('fee-text');
        let consultationFee = '';

        function updateFee() {
            const selectedPlan = planSelect.value;
            const selectedNationalityEl = document.querySelector('input[name="nationality"]:checked');

            if (selectedPlan && selectedNationalityEl) {
                const nationalityKey = selectedNationalityEl.value === 'Indian' ? 'indian' : 'nonIndian';
                const priceInfo = planPrices[selectedPlan];

                if (priceInfo) {
                    consultationFee = priceInfo[nationalityKey];
                    feeText.textContent = consultationFee;
                    feeContainer.style.display = 'block';
                } else {
                    feeContainer.style.display = 'none';
                    consultationFee = '';
                }
            } else {
                feeContainer.style.display = 'none';
                consultationFee = '';
            }
        }

        if (planSelect) planSelect.addEventListener('change', updateFee);
        nationalityRadios.forEach(radio => {
            radio.addEventListener('change', updateFee);
        });

        if (appointmentForm) {
            appointmentForm.addEventListener('submit', function(event) {
                event.preventDefault();

                // Simple client-side validation
                const name = document.getElementById('appt-name').value;
                const age = document.getElementById('appt-age').value;
                const genderEl = document.querySelector('input[name="gender"]:checked');
                const nationalityEl = document.querySelector('input[name="nationality"]:checked');
                const selectedPackage = planSelect.value;
                const reason = document.getElementById('appt-reason').value;

                if (!name || !age || !genderEl || !nationalityEl || !selectedPackage || !reason) {
                    alert('Please fill in all required fields (Name, Age, Gender, Nationality, Plan, Reason).');
                    return;
                }

                const gender = genderEl.value;
                const nationality = nationalityEl.value;
                const otherDetails = document.getElementById('appt-other-details').value;

                let message = `I want to book an appointment\n\nMy details are:\n`;
                message += `*Name:* ${name}\n`;
                message += `*Age:* ${age}\n`;
                message += `*Gender:* ${gender}\n`;
                message += `*Nationality:* ${nationality}\n`;

                if (consultationFee && consultationFee !== 'No Fee') {
                    message += `*Plan Fee:* ${consultationFee}\n`;
                }

                message += `*Selected Plan:* ${selectedPackage}\n\n`;
                message += `*Reason for Consultation:*\n${reason}\n\n`;
                message += `*Additional Details:*\n${otherDetails || 'Not Provided'}`;

                const phoneNumber = '916364514741'; // Your WhatsApp number
                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://api.whatsapp.com/send/?phone=${phoneNumber}&text=${encodedMessage}`;

                window.open(whatsappUrl, '_blank');
                document.getElementById('appointment-modal').style.display = 'none';
            });
        }
    }

    // --- ASSESSMENT QUIZ LOGIC ---
    function initQuiz() {
        const questions = [
            { text: "My body is naturally thin and lightweight.", type: 'Prakriti', category: 'vata' }, { text: "My skin is usually dry, rough, and cool.", type: 'Prakriti', category: 'vata' }, { text: "I tend to have variable digestion and irregular appetite.", type: 'Prakriti', category: 'vata' }, { text: "My energy comes in bursts and I tire easily.", type: 'Prakriti', category: 'vata' }, { text: "I tend to worry, feel anxious or nervous often.", type: 'Prakriti', category: 'vata' }, { text: "My body is medium in build and feels warm.", type: 'Prakriti', category: 'pitta' }, { text: "I have a strong appetite and feel uncomfortable when meals are missed.", type: 'Prakriti', category: 'pitta' }, { text: "I tend to get hot easily and prefer cool environments.", type: 'Prakriti', category: 'pitta' }, { text: "I get irritated or angry quickly but calm down fast.", type: 'Prakriti', category: 'pitta' }, { text: "I have sharp intellect and strong concentration.", type: 'Prakriti', category: 'pitta' }, { text: "My body is broad, heavy, and gains weight easily.", type: 'Prakriti', category: 'kapha' }, { text: "My skin is smooth, cool, moist, and pale.", type: 'Prakriti', category: 'kapha' }, { text: "I am calm, stable, and emotionally balanced.", type: 'Prakriti', category: 'kapha' }, { text: "I sleep deeply and find it hard to wake up early.", type: 'Prakriti', category: 'kapha' }, { text: "I take time to learn but have excellent long-term memory.", type: 'Prakriti', category: 'kapha' },
            { text: "My skin appears naturally soft, glowing, and well-moisturized.", type: 'Saara', category: 'rasa' }, { text: "I feel mentally content and emotionally joyful.", type: 'Saara', category: 'rasa' }, { text: "I rarely feel emotionally unstable or irritable.", type: 'Saara', category: 'rasa' }, { text: "My lips, tongue, and palms have a healthy reddish tint.", type: 'Saara', category: 'rakta' }, { text: "I have high energy, endurance, and courage.", type: 'Saara', category: 'rakta' }, { text: "I recover quickly from cuts, wounds, or blood loss.", type: 'Saara', category: 'rakta' }, { text: "My muscles are firm, strong, and well-developed.", type: 'Saara', category: 'mamsa' }, { text: "I have good physical strength and rarely feel weak.", type: 'Saara', category: 'mamsa' }, { text: "I can perform physical labor or exercise with endurance.", type: 'Saara', category: 'mamsa' }, { text: "My body is soft, plump, and well-cushioned.", type: 'Saara', category: 'meda' }, { text: "I have a pleasing and melodious voice.", type: 'Saara', category: 'meda' }, { text: "My skin is smooth and unctuous (oily).", type: 'Saara', category: 'meda' }, { text: "My teeth are strong, white, and even.", type: 'Saara', category: 'asthi' }, { text: "My bones are strong, and I have good posture.", type: 'Saara', category: 'asthi' }, { text: "My nails grow well and are hard and glossy.", type: 'Saara', category: 'asthi' }, { text: "My eyes are large, clear, and attractive.", type: 'Saara', category: 'majja' }, { text: "I have good intellectual capacity and sharp memory.", type: 'Saara', category: 'majja' }, { text: "My joints are well-lubricated and rarely feel stiff or painful.", type: 'Saara', category: 'majja' }, { text: "My face has a natural glow and vitality.", type: 'Saara', category: 'shukra' }, { text: "I have good sexual health, stamina, and fertility.", type: 'Saara', category: 'shukra' }, { text: "I rarely fall sick and recover quickly from illness.", type: 'Saara', category: 'shukra' }, { text: "I am naturally truthful, kind, and peaceful.", type: 'Saara', category: 'sattva' }, { text: "I am emotionally balanced even during difficulties.", type: 'Saara', category: 'sattva' }, { text: "I show compassion toward others and enjoy helping.", type: 'Saara', category: 'sattva' },
        ];
        let currentQuestionIndex = 0;
        let scores = {};
        let maxScores = {};
        let userName = '';
        let prakritiChartInstance, saaraChartInstance;
        let fullResultsText = '';
        const assessmentModal = document.getElementById('assessment-modal');
        const welcomeScreen = document.getElementById('welcome-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsContainer = document.getElementById('results-container');
        const userInfoForm = document.getElementById('user-info-form');
        const questionTitleEl = document.getElementById('question-title');
        const sectionTitleEl = document.getElementById('section-title');
        const optionsContainerEl = document.getElementById('options-container');
        const progressBar = document.getElementById('progress-bar');
        const restartBtn = document.getElementById('restart-btn');
        const printBtn = document.getElementById('print-btn');
        const whatsappResultsBtn = document.getElementById('whatsapp-results-btn');
        const resultsGreetingEl = document.getElementById('results-greeting');
        const prakritiPercentagesEl = document.getElementById('prakriti-percentages');
        const saaraPercentagesEl = document.getElementById('saara-percentages');
        const startQuizBtn = document.getElementById('start-quiz-btn');

        function initializeScores() {
            scores = { prakriti: { vata: 0, pitta: 0, kapha: 0 }, saara: { rasa: 0, rakta: 0, mamsa: 0, meda: 0, asthi: 0, majja: 0, shukra: 0, sattva: 0 }};
            maxScores = { prakriti: { vata: 0, pitta: 0, kapha: 0 }, saara: { rasa: 0, rakta: 0, mamsa: 0, meda: 0, asthi: 0, majja: 0, shukra: 0, sattva: 0 }};

            questions.forEach(q => {
                const typeKey = q.type.toLowerCase();
                if (maxScores[typeKey] && maxScores[typeKey][q.category] !== undefined) {
                    maxScores[typeKey][q.category]++;
                }
            });
        }

        function showWelcomeScreen() {
            welcomeScreen.classList.remove('hidden');
            quizScreen.classList.add('hidden');
            resultsContainer.classList.add('hidden');
            userInfoForm.reset();
            if (prakritiChartInstance) prakritiChartInstance.destroy();
            if (saaraChartInstance) saaraChartInstance.destroy();
            if(startQuizBtn) startQuizBtn.disabled = false;
            progressBar.setAttribute('aria-valuenow', '0'); // Reset progress for accessibility
        }

        function startQuiz(event) {
            event.preventDefault();
            if(startQuizBtn) startQuizBtn.disabled = true;
            userName = document.getElementById('name').value || 'Guest';
            currentQuestionIndex = 0;
            initializeScores();
            welcomeScreen.classList.add('hidden');
            resultsContainer.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }
            questionTitleEl.classList.remove('question-animated');
            optionsContainerEl.classList.remove('question-animated');
            const question = questions[currentQuestionIndex];
            setTimeout(() => {
                sectionTitleEl.textContent = `Question ${currentQuestionIndex + 1} / ${questions.length} — ${question.type} Assessment`;
                questionTitleEl.textContent = question.text;
                optionsContainerEl.innerHTML = `
                    <button class="option-btn" onclick="recordAnswer(1.0)">Very Much / Always</button>
                    <button class="option-btn" onclick="recordAnswer(0.66)">Moderately / Often</button>
                    <button class="option-btn" onclick="recordAnswer(0.33)">A Little / Sometimes</button>
                    <button class="option-btn" onclick="recordAnswer(0.0)">Not at All / Rarely</button>
                `;
                questionTitleEl.classList.add('question-animated');
                optionsContainerEl.classList.add('question-animated');
            }, 50);
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressBar.setAttribute('aria-valuenow', progress.toFixed(0)); // Update aria-valuenow
        }

        window.recordAnswer = function(scoreValue) {
            const question = questions[currentQuestionIndex];
            const typeKey = question.type.toLowerCase();
            scores[typeKey][question.category] += scoreValue;
            currentQuestionIndex++;
            showQuestion();
        }

        function calculateAndDisplayResults() {
            const prakritiScores = scores.prakriti;
            const prakritiPercentages = {};
            let prakritiSummaryHtml = '<h3>Percentage Score:</h3>';
            for (const dosha in prakritiScores) {
                const percentage = (maxScores.prakriti[dosha] > 0) ? (prakritiScores[dosha] / maxScores.prakriti[dosha]) * 100 : 0;
                prakritiPercentages[dosha] = percentage;
                prakritiSummaryHtml += `<p>${dosha.charAt(0).toUpperCase() + dosha.slice(1)}: ${percentage.toFixed(1)}%</p>`;
            }
            const dominantPrakriti = findDominant(prakritiPercentages);
            document.getElementById('dominant-prakriti').textContent = dominantPrakriti;
            prakritiPercentagesEl.innerHTML = prakritiSummaryHtml;

            // Destroy existing chart instance if it exists
            if (prakritiChartInstance) {
                prakritiChartInstance.destroy();
            }
            prakritiChartInstance = createPieChart('prakriti-chart', prakritiPercentages, 'Prakriti Distribution', ['#4e79a7', '#f28e2b', '#59a14f']);

            const saaraScores = scores.saara;
            const saaraPercentages = {};
            let saaraSummaryHtml = '<h3>Percentage Score:</h3>';
            for (const saara in saaraScores) {
                const percentage = (maxScores.saara[saara] > 0) ? (saaraScores[saara] / maxScores.saara[saara]) * 100 : 0;
                saaraPercentages[saara] = percentage;
                if (maxScores.saara[saara] > 0) {
                    saaraSummaryHtml += `<p>${saara.charAt(0).toUpperCase() + saara.slice(1)}: ${percentage.toFixed(1)}%</p>`;
                }
            }
            const dominantSaara = findDominant(saaraPercentages);
            document.getElementById('dominant-saara').textContent = dominantSaara;
            saaraPercentagesEl.innerHTML = saaraSummaryHtml;

            // Destroy existing chart instance if it exists
            if (saaraChartInstance) {
                saaraChartInstance.destroy();
            }
            saaraChartInstance = createPieChart('saara-chart', saaraPercentages, 'Saara Distribution', ['#e15759', '#76b7b2', '#edc948', '#ff9da7', '#9c755f', '#bab0ac', '#f17f42', '#b07aa1']);

            let resultsForWhatsapp = `Hello! I've completed the assessment. I'm, *${userName}*.\n\nHere are my results:\n\n`;
            resultsForWhatsapp += `*Dominant Prakriti (Constitution):* ${dominantPrakriti}\n`;
            resultsForWhatsapp += `*Dominant Saara (Tissue Essence):* ${dominantSaara}\n\n`;
            resultsForWhatsapp += `--- DETAILED PERCENTAGES ---\n`;
            for (const dosha in prakritiPercentages) {
                resultsForWhatsapp += `  - ${dosha.charAt(0).toUpperCase() + dosha.slice(1)}: ${prakritiPercentages[dosha].toFixed(1)}%\n`;
            }
            resultsForWhatsapp += `\n*Saara Scores:*\n`;
            for (const saara in saaraPercentages) {
                if (maxScores.saara[saara] > 0) {
                    resultsForWhatsapp += `  - ${saara.charAt(0).toUpperCase() + saara.slice(1)}: ${saaraPercentages[saara].toFixed(1)}%\n`;
                }
            }
            resultsForWhatsapp += `\nI would like to book a consultation for further assistance. Thank you!`;
            fullResultsText = resultsForWhatsapp;
        }

        function findDominant(percentageObject) {
            let maxPercent = -1;
            let dominantItems = [];
            // Filter out items with 0% before finding dominant to avoid "Balanced / Not enough data" if there's actual data
            const filteredPercentages = Object.entries(percentageObject).filter(([, value]) => value > 0.1); // Small threshold for non-zero
            if (filteredPercentages.length === 0) return "Not enough data to determine a dominant type.";

            for (const [item, percent] of filteredPercentages) {
                if (percent > maxPercent) {
                    maxPercent = percent;
                    dominantItems = [item];
                } else if (Math.abs(percent - maxPercent) < 1.0) { // Consider values within 1% as equally dominant
                    dominantItems.push(item);
                }
            }
            return dominantItems.map(item => item.charAt(0).toUpperCase() + item.slice(1)).join(' / ');
        }


        function createPieChart(canvasId, percentageObject, title, colorPalette) {
            const ctx = document.getElementById(canvasId).getContext('2d');
            const filteredData = Object.entries(percentageObject).filter(([, value]) => value > 0.1); // Only show non-zero slices
            const labels = filteredData.map(([key]) => `${key.charAt(0).toUpperCase() + key.slice(1)}`);
            const data = filteredData.map(([, value]) => value);

            const chartInstance = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: colorPalette.slice(0, data.length),
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    animation: {
                        animateScale: true,
                        animateRotate: true
                    },
                    plugins: {
                        legend: {
                            position: 'top'
                        },
                        title: {
                            display: true,
                            text: title,
                            font: {
                                size: 16,
                                weight: 'bold'
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.parsed.toFixed(1)}%`;
                                }
                            }
                        }
                    }
                }
            });
            return chartInstance; // Return the chart instance
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
            resultsGreetingEl.textContent = `Dear ${userName}, your assessment results are:`;
            calculateAndDisplayResults(); // This function now handles chart creation/destruction
        }

        if(userInfoForm) userInfoForm.addEventListener('submit', startQuiz);
        if(restartBtn) restartBtn.addEventListener('click', () => {
            // No need to ensure modal is block, as showWelcomeScreen will handle hiding/showing
            showWelcomeScreen();
        });
        if(printBtn) printBtn.addEventListener('click', () => { window.print(); });
        if(whatsappResultsBtn) whatsappResultsBtn.addEventListener('click', () => {
            const phoneNumber = '916364514741'; // Your WhatsApp number
            const encodedMessage = encodeURIComponent(fullResultsText);
            const whatsappUrl = `https://api.whatsapp.com/send/?phone=${phoneNumber}&text=${encodedMessage}`;
            window.open(whatsappUrl, '_blank');
        });
    }

    // --- FINAL & DETAILED BLOG LOGIC ---
    function initBlog() {
        const blogPosts = [
            {
                id: 'dinacharya', icon: 'fa-sun', title: "Dinacharya – The Ayurvedic Daily Routine",
                content: [
                    { heading: "Introduction", html: `<h3>The Science of Daily Rhythm</h3><p>In Ayurveda, health is not just the absence of disease but a balanced state of body, mind, and spirit. One of the most powerful ways to maintain this harmony is through <strong>Dinacharya</strong> – aligning daily activities with nature's clock to pacify the doshas.</p>` },
                    { heading: "The Routine", html: `<h3>A Step-by-Step Guide</h3><blockquote class="shloka">“Brahme muhūrte uttishṭhet svāsthyo rakṣārtham āyuṣaḥ”<br/><em>– Ashtanga Hridaya</em><br/>(The healthy should rise during Brahma Muhurta for the protection and longevity of life.)</blockquote><ul><li><strong>Ushapan (4-6 AM):</strong> Drink a glass of warm water to stimulate bowels.</li><li><strong>Mala Tyaga:</strong> Evacuate bowels and bladder.</li><li><strong>Danta Dhavana & Jihva Nirlekhana:</strong> Brush teeth with herbal twigs/powders and scrape the tongue to remove toxins.</li><li><strong>Abhyanga:</strong> Self-massage with warm oil (Sesame for Vata/Kapha, Coconut for Pitta).</li><li><strong>Vyayama:</strong> Exercise to half of one's capacity.</li><li><strong>Snana:</strong> Bathe with lukewarm water.</li><li><strong>Bhojana (Lunch):</strong> Have your main meal between 12-1 PM when Agni is strongest.</li><li><strong>Sayam Bhojana (Dinner):</strong> Eat a light, early dinner before 7 PM.</li><li><strong>Nidra:</strong> Sleep before 10 PM.</li></ul>` },
                    { heading: "Benefits", html: `<h3>Why Follow Dinacharya?</h3><ul><li>Balances Vata, Pitta, and Kapha.</li><li>Boosts digestive fire (Agni).</li><li>Prevents chronic lifestyle diseases.</li><li>Enhances immunity, energy, and mental clarity.</li><li>Promotes self-discipline and peace.</li></ul>` },
                    { heading: "Cautions", html: `<h3>Contraindications</h3><p>Certain practices should be modified:</p><ul><li><strong>Abhyanga:</strong> Avoid during fever, acute indigestion, or when having high Ama (toxins).</li><li><strong>Vyayama:</strong> Do not exercise to full capacity or when feeling ill or exhausted.</li><li><strong>Nasya (Nasal oil):</strong> Avoid immediately after a meal or during acute cold/sinus congestion.</li></ul>` }
                ]
            },
            {
                id: 'ritucharya', icon: 'fa-leaf', title: "Ritucharya – Ayurveda’s Seasonal Regimen",
                content: [
                    { heading: "Introduction", html: `<h3>Living in Tune with the Seasons</h3><p><strong>Ritucharya</strong> is the Ayurvedic science of adapting diet and lifestyle to the changing seasons to keep the doshas in balance and prevent illness.</p><blockquote class="shloka">“Tasyashityaadibhedena Rituh Shad-vidha Ismrutah”<br/><em>– Sushruta Samhita, Sutrasthana 6/4</em><br/>(The seasons are classified into six types, beginning with Shishira Ritu.)</blockquote>` },
                    { heading: "Hemanta (Winter)", html: `<h3>❄️ Early Winter (Nov-Jan)</h3><p>Agni (digestive fire) is strong. The body needs nourishing, warm foods.</p><h4>Do's (Pathya):</h4><ul class="dos"><li>Consume sweet, sour, salty foods.</li><li>Eat grains, dairy (milk, ghee), jaggery, and sesame oil.</li><li>Practice regular Abhyanga (oil massage) and take warm baths.</li><li>Engage in moderate exercise.</li></ul><h4>Don'ts (Apathya):</h4><ul class="donts"><li>Avoid cold, dry, and light foods.</li><li>Do not fast excessively.</li><li>Avoid exposure to cold winds.</li></ul>`},
                    { heading: "Shishira (Late Winter)", html: `<h3>🥶 Late Winter (Jan-Mar)</h3><p>Cold and dryness increase. Follow a similar regimen to Hemanta but with more emphasis on warmth.</p><h4>Do's (Pathya):</h4><ul class="dos"><li>Similar to Hemanta, prefer warm and unctuous foods.</li><li>Live in a warm, insulated home.</li></ul><h4>Don'ts (Apathya):</h4><ul class="donts"><li>Avoid pungent, bitter, and astringent foods that increase dryness.</li></ul>`},
                    { heading: "Vasanta (Spring)", html: `<h3>🍃 Spring (Mar-May)</h3><p>Accumulated Kapha from winter liquefies, often causing congestion and allergies. Agni is weak.</p><h4>Do's (Pathya):</h4><ul class="dos"><li>Eat light, dry, bitter, pungent, and astringent foods.</li><li>Consume barley, honey, and warm drinks like ginger tea.</li><li>Engage in vigorous exercise.</li><li>Consider therapeutic vomiting (Vamana) under guidance.</li></ul><h4>Don'ts (Apathya):</h4><ul class="donts"><li>Avoid heavy, oily, sour, and sweet foods (dairy, fried items).</li><li>Do not sleep during the daytime.</li></ul>`},
                    { heading: "Grishma (Summer)", html: `<h3>☀️ Summer (May-Jul)</h3><p>Heat is intense, aggravating Pitta and depleting body fluids.</p><h4>Do's (Pathya):</h4><ul class="dos"><li>Eat sweet, light, liquid, and cool foods (rice, ghee, milk, juicy fruits).</li><li>Drink plenty of water, coconut water, and buttermilk.</li><li>Stay indoors during peak sun hours.</li><li>Wear light cotton clothes.</li></ul><h4>Don'ts (Apathya):</h4><ul class="donts"><li>Avoid spicy, sour, salty, and pungent foods.</li><li>Do not perform strenuous exercise.</li><li>Avoid alcohol, as it is heating in nature.</li></ul>`},
                    { heading: "Varsha (Monsoon)", html: `<h3>🌧️ Monsoon (Jul-Sep)</h3><p>Agni is very weak, and Vata is aggravated due to the damp, cold atmosphere.</p><h4>Do's (Pathya):</h4><ul class="dos"><li>Consume light, fresh, and warm meals. Use ginger and black pepper.</li><li>Eat soured and salted soups.</li><li>Drink boiled and cooled water, possibly with honey.</li><li>Keep surroundings dry and clean.</li></ul><h4>Don'ts (Apathya):</h4><ul class="donts"><li>Avoid leafy green vegetables (they can carry worms/dirt).</li><li>Do not eat raw foods like salads.</li><li>Avoid dairy products like yogurt, which can clog channels.</li></ul>`},
                    { heading: "Sharad (Autumn)", html: `<h3>🍂 Autumn (Sep-Nov)</h3><p>Pitta, accumulated in summer, becomes highly aggravated. Agni improves.</p><h4>Do's (Pathya):</h4><ul class="dos"><li>Consume sweet, bitter, and light foods.</li><li>Eat wheat, green gram, ghee, and sweet fruits.</li><li>Consider therapeutic purgation (Virechana) to expel excess Pitta.</li><li>Expose yourself to moonlight.</li></ul><h4>Don'ts (Apathya):</h4><ul class="donts"><li>Avoid hot, spicy, oily, and sour foods.</li><li>Do not eat yogurt, heavy meats, or sleep during the day.</li></ul>`}
                ]
            },
            {
                id: 'ratricharya', icon: 'fa-moon', title: "Ratricharya – The Ayurvedic Night Routine",
                content: [
                    { heading: "Introduction", html: `<h3>The Art of Winding Down</h3><p><strong>Ratricharya</strong> governs the sacred transition into rest, detoxification, and rejuvenation. A balanced night routine ensures quality sleep, emotional balance, and mental clarity.</p>` },
                    { heading: "The Routine", html: `<h3>Steps for Restful Sleep</h3><blockquote class="shloka">“Nidrayattam Sukham Dukham Pushtih Karshyam Balabalam”<br/><em>– Charaka Samhita, Sutrasthana 21/36</em><br/>(Happiness, misery, nourishment, emaciation, strength, and weakness all depend on sleep.)</blockquote><ul><li><strong>Light Dinner (6:30–7:30 PM):</strong> Eat warm, light foods. A heavy dinner creates toxins (ama).</li><li><strong>Digital Detox (by 8:30 PM):</strong> Avoid screens, as blue light disrupts melatonin production.</li><li><strong>Triphala Sevan:</strong> Consuming Triphala powder with warm water helps in gentle colon cleansing.</li><li><strong>Pada Abhyanga (Foot Massage):</strong> Massage soles with warm sesame oil to calm Vata and induce deep sleep.</li><li><strong>Calm the Mind:</strong> Practice gentle breathing (Pranayama) or read spiritual texts.</li><li><strong>Sleep Before 10 PM:</strong> This aligns with the Kapha cycle, allowing the body's Pitta-driven repair mechanism to function optimally.</li></ul>` },
                    { heading: "Benefits", html: `<h3>Why is it Important?</h3><ul><li>Promotes deep, restorative sleep.</li><li>Enhances digestion and overnight detoxification.</li><li>Reduces stress, anxiety, and overthinking.</li><li>Leads to a fresh and energetic morning.</li></ul>` },
                    { heading: "Cautions", html: `<h3>Contraindications</h3><ul><li><strong>Triphala:</strong> Avoid during pregnancy or diarrhea without consulting a practitioner.</li><li><strong>Heavy Dinner:</strong> Absolutely avoid if you have digestive issues like GERD or indigestion.</li></ul>` }
                ]
            },
            {
                id: 'pathya-apathya', icon: 'fa-utensils', title: "Pathya-Apathya – Wholesome Diet & Lifestyle",
                content: [
                    { heading: "Introduction", html: `<h3>The Foundation of Treatment</h3><p><strong>Pathya</strong> refers to that which is wholesome and beneficial for the body and mind, while <strong>Apathya</strong> is that which is harmful. This concept is the cornerstone of Ayurvedic treatment.</p><blockquote class="shloka">“Pathye sati gadaartasya kimoushadha nishevanai? Pathye asati gadaartasya kimoushadha nishevanai?”<br/>(If a person follows a proper diet, why would he need medicine? And if a person doesn’t follow a proper diet, why would he need medicine?)</blockquote>` },
                    { heading: "General Guidelines", html: `<h3>Universal Do's and Don'ts</h3><h4>Pathya (Wholesome):</h4><ul class="dos"><li>Eating fresh, warm, seasonal, and locally grown food.</li><li>Consuming ghee, buttermilk, and rock salt in moderation.</li><li>Eating mindfully, only when hungry.</li><li>Regular exercise, meditation, and adequate sleep.</li></ul><h4>Apathya (Unwholesome):</h4><ul class="donts"><li>Eating processed, frozen, leftover, or canned foods.</li><li>Suppressing natural urges (hunger, thirst, sleep, etc.).</li><li>Excessive consumption of dry, fried, or overly spicy food.</li><li>Negative emotions like anger, greed, and jealousy.</li></ul>`},
                    { heading: "Disease-Specific", html: `<h3>Diet in Sickness</h3><table><thead><tr><th>Condition</th><th>Pathya (To Eat)</th><th>Apathya (To Avoid)</th></tr></thead><tbody><tr><td><strong>Fever (Jwara)</strong></td><td>Light soups, rice gruel, warm water</td><td>Dairy, fried food, heavy meals, cold water</td></tr><tr><td><strong>Cough/Cold</strong></td><td>Ginger, honey, warm water, turmeric</td><td>Yogurt, bananas, cold drinks, sweets</td></tr><tr><td><strong>Arthritis (Amavata)</strong></td><td>Warm water with ginger, garlic, buttermilk</td><td>Urad dal, yogurt, heavy & oily foods</td></tr></tbody></table>`}
                ]
            },
            {
                id: 'viruddha-ahara', icon: 'fa-triangle-exclamation', title: "Viruddha Ahara – Incompatible Foods",
                content: [
                    { heading: "Introduction", html: `<h3>The Hidden Poison on Your Plate</h3><p><strong>Viruddha Ahara</strong> is the concept of combining foods that have opposing qualities, which disrupts digestion, creates toxins (Ama), and can lead to chronic diseases over time.</p><blockquote class="shloka">“Viruddhamapi cha aaharam vidyaat vishamagaropamam”<br/><em>– Charaka Samhita, Sutrasthana 26</em><br/>(Incompatible food should be known to have effects similar to poison.)</blockquote>` },
                    { heading: "Combinations to Avoid", html: `<h3>Common Incompatible Foods</h3><table><thead><tr><th>Do Not Combine</th><th>With</th><th>Reason</th></tr></thead><tbody><tr><td><strong>Milk</strong></td><td>Fish, Sour Fruits, Salt, Vegetables</td><td>Opposing potencies (Veerya Viruddha)</td></tr><tr><td><strong>Yogurt</strong></td><td>Milk, Sour Fruits, Hot Drinks</td><td>Heating potency, can clog channels</td></tr><tr><td><strong>Honey</strong></td><td>Ghee (in equal ratio), Hot Water</td><td>Heating honey makes it toxic</td></tr><tr><td><strong>Fruits</strong></td><td>Any cooked meal (e.g., rice, roti)</td><td>Fruits digest faster, causing fermentation</td></tr><tr><td><strong>Nightshades (Potato, Tomato)</strong></td><td>Milk, Yogurt, Cucumber</td><td>Can lead to indigestion</td></tr></tbody></table>`},
                    { heading: "Health Impact", html: `<h3>Consequences of Wrong Combinations</h3><p>Long-term consumption can lead to:</p><ul><li>Skin disorders (eczema, psoriasis, leucoderma).</li><li>Digestive issues (indigestion, acidity, IBS).</li><li>Metabolic and hormonal imbalances.</li><li>Various autoimmune conditions and reduced immunity.</li></ul>` }
                ]
            },
            {
                id: 'yoga', icon: 'fa-person-praying', title: "Yoga & Ayurveda – The Sister Sciences",
                content: [
                    { heading: "Introduction", html: `<h3>The Union of Body, Mind & Soul</h3><p>Yoga and Ayurveda are inseparable sister sciences from ancient India. While Ayurveda focuses on healing the body and balancing the doshas, Yoga aims to quiet the mind and unite the individual consciousness with the universal.</p><blockquote class="shloka">“Yogash-chitta-vritti-nirodhah”<br/><em>– Patanjali Yoga Sutra 1.2</em><br/>(Yoga is the cessation of the fluctuations of the mind.)</blockquote>` },
                    { heading: "Yoga for Doshas", html: `<h3>Tailoring Your Practice</h3><table><thead><tr><th>Dosha</th><th>Practice Style</th><th>Recommended Asanas</th></tr></thead><tbody><tr><td><strong>Vata</strong></td><td>Grounding, slow, warming, stable</td><td>Warrior poses, Tree Pose, seated forward bends</td></tr><tr><td><strong>Pitta</strong></td><td>Cooling, calming, non-competitive</td><td>Moon Salutations, twists, restorative poses</td></tr><tr><td><strong>Kapha</strong></td><td>Energizing, stimulating, dynamic</td><td>Sun Salutations, backbends, vinyasa flow</td></tr></table>` },
                    { heading: "Benefits", html: `<h3>Holistic Gains</h3><ul><li>Improves flexibility, strength, and posture.</li><li>Calms the nervous system and reduces stress.</li><li>Enhances circulation and detoxifies organs.</li><li>Increases awareness and mental clarity.</li></ul>` },
                    { heading: "Contraindications", html: `<h3>When to Be Cautious</h3><ul><li><strong>Inversions (e.g., Headstand):</strong> Avoid during menstruation, high blood pressure, or glaucoma.</li><li><strong>Intense Backbends:</strong> Avoid with serious back injuries or spondylosis.</li><li><strong>Twists:</strong> Practice gently if you have herniated discs.</li><li><strong>General:</strong> Do not practice on a full stomach. Always listen to your body and never force a posture.</li></ul>` }
                ]
            },
            {
                id: 'pranayama', icon: 'fa-wind', title: "Pranayama – Mastering the Vital Breath",
                content: [
                    { heading: "Introduction", html: `<h3>The Power of Life Force</h3><p><strong>Pranayama</strong> is the conscious regulation of breath (Prana). It is a vital tool for balancing doshas, calming the mind, and enhancing the body's vital life force.</p><blockquote class="shloka">“Pranayamena Yuktena Sarvaroga Kshayo Bhavet”<br/><em>– Hatha Yoga Pradipika</em><br/>(With the regular practice of Pranayama, all diseases can be eradicated.)</blockquote>` },
                    { heading: "Key Techniques", html: `<h3>Pranayama for Your Dosha</h3><table><thead><tr><th>Pranayama</th><th>Primary Benefit</th><th>Best for Dosha</th></tr></thead><tbody><tr><td><strong>Nadi Shodhana</strong> (Alternate Nostril)</td><td>Balances energy, calms mind</td><td>Tridoshic (All)</td></tr><tr><td><strong>Sheetali/Sheetkari</strong> (Cooling)</td><td>Reduces body heat</td><td>Pitta</td></tr><tr><td><strong>Bhramari</strong> (Bee Breath)</td><td>Soothes nervous system</td><td>Vata & Pitta</td></tr><tr><td><strong>Bhastrika/Kapalabhati</strong> (Energizing)</td><td>Clears congestion, boosts energy</td><td>Kapha</td></tr></table>` },
                    { heading: "Benefits", html: `<h3>Gains from Breathwork</h3><ul><li>Strengthens the respiratory system.</li><li>Calms anxiety and reduces stress hormones.</li><li>Improves concentration and mental focus.</li><li>Detoxifies the body and purifies energy channels (Nadis).</li></ul>` },
                    { heading: "Contraindications", html: `<h3>Important Cautions</h3><ul><li><strong>High Blood Pressure:</strong> Avoid forceful techniques like Bhastrika and Kapalabhati, or any breath retention (Kumbhaka).</li><li><strong>Pregnancy:</strong> Avoid all forceful practices and retentions. Stick to gentle breathing like Nadi Shodhana without retention.</li><li><strong>Heart Conditions:</strong> Practice only very gentle breathing under expert guidance.</li><li><strong>General:</strong> Never practice to the point of dizziness or strain.</li></ul>` }
                ]
            }
        ];

        const blogModal = document.getElementById('blog-modal');
        const blogModalTitle = document.getElementById('blog-modal-title');
        const blogIndexView = document.getElementById('blog-index-view');
        const blogContentView = document.getElementById('blog-content-view');
        const backToBlogsBtn = blogContentView.querySelector('.back-to-blogs-btn');
        const blogPostTitleEl = document.getElementById('blog-post-title');
        const blogTabsNavEl = document.getElementById('blog-tabs-nav');
        const blogTabContentContainerEl = document.getElementById('blog-tab-content-container');

        if (!blogModal) return;

        // Render the list of blog posts
        window.renderBlogIndex = function() {
            blogModalTitle.textContent = 'Our Blog';
            blogIndexView.style.display = 'block';
            blogContentView.classList.add('hidden');
            let content = '<ul>';
            blogPosts.forEach(post => {
                content += `<li><a href="#" class="blog-list-item" data-blog-id="${post.id}" aria-label="Read about ${post.title}"><i class="fas ${post.icon}" aria-hidden="true"></i> ${post.title}</a></li>`;
            });
            content += '</ul>';
            blogIndexView.innerHTML = content;
        }

        // Render a single blog post with its tabs
        window.renderBlogPost = function(blogId) {
            const post = blogPosts.find(p => p.id === blogId);
            if (!post) return;

            blogModalTitle.textContent = 'Blog Article';
            blogIndexView.style.display = 'none';
            blogContentView.classList.remove('hidden');

            blogPostTitleEl.textContent = post.title;
            blogTabsNavEl.innerHTML = '';
            blogTabContentContainerEl.innerHTML = '';

            post.content.forEach((section, index) => {
                const tabId = `${post.id}-tab-${index}`;
                const tabButton = `<button class="tab-link" role="tab" aria-selected="${index === 0 ? 'true' : 'false'}" aria-controls="${tabId}" data-tab-target="#${tabId}">${section.heading}</button>`;
                const tabPane = `<div class="tab-pane" id="${tabId}" role="tabpanel" aria-labelledby="${tabId.replace('tab-', '')}" ${index === 0 ? '' : 'aria-hidden="true"'}>${section.html}</div>`;
                blogTabsNavEl.innerHTML += tabButton;
                blogTabContentContainerEl.innerHTML += tabPane;
            });

            // Activate the first tab by default
            const firstTabLink = blogTabsNavEl.querySelector('.tab-link');
            const firstTabPane = blogTabContentContainerEl.querySelector('.tab-pane');
            if (firstTabLink && firstTabPane) {
                firstTabLink.classList.add('active');
                firstTabLink.setAttribute('aria-selected', 'true');
                firstTabPane.classList.add('active');
                firstTabPane.setAttribute('aria-hidden', 'false');
            }

            blogModal.scrollTop = 0;
        }

        // Use event delegation for blog index links
        blogIndexView.addEventListener('click', (e) => {
            const link = e.target.closest('.blog-list-item');
            if (link) {
                e.preventDefault();
                renderBlogPost(link.dataset.blogId);
            }
        });

        // Use event delegation for blog tabs
        blogTabsNavEl.addEventListener('click', (e) => {
            const link = e.target.closest('.tab-link');
            if (link) {
                const targetId = link.dataset.tabTarget;
                blogTabsNavEl.querySelectorAll('.tab-link').forEach(l => {
                    l.classList.remove('active');
                    l.setAttribute('aria-selected', 'false');
                });
                blogTabContentContainerEl.querySelectorAll('.tab-pane').forEach(p => {
                    p.classList.remove('active');
                    p.setAttribute('aria-hidden', 'true');
                });
                link.classList.add('active');
                link.setAttribute('aria-selected', 'true');
                document.querySelector(targetId).classList.add('active');
                document.querySelector(targetId).setAttribute('aria-hidden', 'false');
            }
        });

        backToBlogsBtn.addEventListener('click', (e) => {
            e.preventDefault();
            renderBlogIndex();
        });
    }

    // --- START THE APP ---
    init();
});
</script>
<!-- Chat/Login Script -->
<script>
    let auth0 = null;
    let currentUser = null;
    let db = null;
    let selectedRecipient = "";

    const firebaseConfig = {
      apiKey: "AIzaSyDx6jq8MrirgOWubA7RnowlT1V9FlGHPXE",
      authDomain: "sattvagriha-website.firebaseapp.com",
      projectId: "sattvagriha-website",
      storageBucket: "sattvagriha-website.firebasestorage.app",
      messagingSenderId: "609557030681",
      appId: "1:609557030681:web:4133ff12edca9afbbec788",
      measurementId: "G-X63K12T00Q"
    };

    firebase.initializeApp(firebaseConfig);
    db = firebase.firestore();

    async function configureAuth0() {
      auth0 = await createAuth0Client({
        domain: "sattvagriha.us.auth0.com",
        client_id: "hchHVJqx7Mb9ygTDUxLRzTQ0SlMOGfe3"
      });
    }

    async function login() {
      await auth0.loginWithPopup();
      const user = await auth0.getUser();
      currentUser = user;

      document.getElementById("login-button").style.display = "none";
      document.getElementById("logout-button").style.display = "inline-block";
      document.getElementById("user-profile").style.display = "block";
      document.getElementById("chat-box").style.display = "block";
      document.getElementById("user-profile").innerHTML = `
        <img src="${user.picture}" width="40" style="border-radius:50%;"> 
        <strong>${user.name}</strong> (${user.email})
      `;

      await db.collection("users").doc(user.email).set({
        name: user.name,
        email: user.email,
        picture: user.picture
      }, { merge: true });

      loadUserList();
    }

    async function logout() {
      await auth0.logout({ returnTo: window.location.origin });
      location.reload();
    }

    function loadUserList() {
      db.collection("users").get().then(snapshot => {
        const select = document.getElementById("recipientSelect");
        select.innerHTML = '<option value="">Select User</option>';
        snapshot.forEach(doc => {
          const user = doc.data();
          if (user.email !== currentUser.email) {
            const opt = document.createElement("option");
            opt.value = user.email;
            opt.textContent = user.name;
            select.appendChild(opt);
          }
        });
      });
    }

    document.getElementById("recipientSelect").addEventListener("change", function() {
      selectedRecipient = this.value;
      if (selectedRecipient) {
        listenToMessages();
      } else {
        document.getElementById("messages").innerHTML = "";
      }
    });

    function listenToMessages() {
      const chatId = [currentUser.email, selectedRecipient].sort().join("_");
      db.collection("chats").doc(chatId).collection("messages").orderBy("timestamp")
        .onSnapshot(snapshot => {
          const box = document.getElementById("messages");
          box.innerHTML = "";
          snapshot.forEach(doc => {
            const msg = doc.data();
            const div = document.createElement("div");
            div.className = "message" + (msg.sender === currentUser.email ? " you" : "");
            div.textContent = `${msg.sender === currentUser.email ? 'You' : msg.senderName}: ${msg.text}`;
            box.appendChild(div);
          });
        });
    }

    function sendMessage() {
      const text = document.getElementById("messageInput").value.trim();
      if (!text || !selectedRecipient) return;

      const chatId = [currentUser.email, selectedRecipient].sort().join("_");
      db.collection("chats").doc(chatId).collection("messages").add({
        sender: currentUser.email,
        senderName: currentUser.name,
        text,
        timestamp: firebase.firestore.FieldValue.serverTimestamp()
      });

      document.getElementById("messageInput").value = "";
    }

    document.getElementById("login-button").addEventListener("click", login);
    document.getElementById("logout-button").addEventListener("click", logout);
    window.onload = configureAuth0;
  </script>
<!-- Floating Chat Button -->
<!-- Chat Box -->
<style>
section.visible {
  opacity: 1 !important;
  transform: translateY(0px) !important;
}


/* --- Enhanced Mobile-Friendly Header & Layout --- */
header {
  color: white;
  text-align: center;
  padding: 2rem 1rem;
  background: linear-gradient(120deg, #004d40, #00796b, #26a69a);
  background-size: 300% 300%;
  animation: gradientBG 10s ease infinite;
  display: flex;
  flex-direction: column;
  align-items: center;
}
header h1 {
  font-size: 2.5rem;
  margin: 0;
  font-family: 'Merriweather', serif;
}
header h3 {
  font-size: 1.1rem;
  font-weight: 400;
  margin-top: 0.5rem;
  opacity: 0.95;
}

/* Login Buttons Improved */
#login-button, #logout-button {
  background-color: #00897b;
  border: 1px solid #000;
  color: #fff;
  padding: 0.6rem 1.2rem;
  margin-top: 1rem;
  border-radius: 8px;
  font-weight: bold;
  transition: background-color 0.3s ease, transform 0.2s ease;
}
#login-button:hover, #logout-button:hover {
  background-color: #004d40;
  transform: translateY(-2px);
}

/* Ensure responsive sections and padding */
main {
  padding: 1rem;
  max-width: 100%;
  box-sizing: border-box;
}
section {
  margin-bottom: 2rem;
  padding: 1.5rem;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  transition: transform 0.3s ease, opacity 0.3s ease;
}
section:hover {
  transform: scale(1.01);
}

/* Media Queries for small screens */
@media (max-width: 600px) {
  header h1 { font-size: 1.8rem; }
  header h3 { font-size: 1rem; }
  #login-button, #logout-button {
    width: 100%;
    font-size: 1rem;
  }
  section {
    padding: 1rem;
  }
}


  #chat-box {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 300px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    z-index: 9999;
    display: none;
    flex-direction: column;
    overflow: hidden;
  }
  #chat-header {
    background: #00695c;
    color: white;
    padding: 10px;
    font-weight: bold;
    cursor: pointer;
    text-align: center;
  }
  #messages {
    height: 200px;
    overflow-y: auto;
    padding: 10px;
    background: #f9f9f9;
  }
  .message {
    background: #e1f5fe;
    margin: 5px 0;
    padding: 8px 10px;
    border-radius: 10px;
  }
  .message.you {
    background: #c8e6c9;
    text-align: right;
  }
  #chat-controls {
    display: flex;
    padding: 10px;
    border-top: 1px solid #ccc;
  }
  #messageInput {
    flex: 1;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 6px;
  }
  button.send-btn {
    background: #00695c;
    color: white;
    border: none;
    padding: 8px 12px;
    margin-left: 5px;
    border-radius: 6px;
    cursor: pointer;
  }
  #chat-toggle-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #00695c;
    color: white;
    padding: 10px 15px;
    border-radius: 50px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    border: none;
    cursor: pointer;
    z-index: 9998;
  }


#login-button, #logout-button {
  background-color: #00695c;
  border: 1px solid black;
  color: white;
  padding: 10px 20px;
  cursor: pointer;
  border-radius: 6px;
  margin: 5px;
}

/* --- Enhancements for Mobile Adaptation and Visuals --- */
.login-top-left {
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 1002;
}

#login-button-top {
  background-color: #00695c;
  color: white;
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: bold;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  transition: background-color 0.3s ease, transform 0.2s ease;
}

#login-button-top:hover {
  background-color: #004d40;
  transform: translateY(-2px);
}

@media (max-width: 600px) {
  .treatment-process {
    flex-direction: row !important;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
  }

  .process-step {
    flex: 1 1 45%;
    flex-direction: column !important;
    text-align: center;
    max-width: 220px;
  }

  .process-icon {
    width: 60px;
    height: 60px;
    font-size: 1.5em;
  }

  .plans-container {
    flex-direction: column;
    align-items: center;
  }

  .plan-card {
    min-width: 90%;
    max-width: 95%;
  }
}

.button-container .btn {
  transition: all 0.3s ease-in-out;
}

.button-container .btn:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}


    body {
      transition: background 0.5s, color 0.5s;
    }
      background: #121212 !important;
      color: #eee !important;
    }
      background: rgba(255, 255, 255, 0.05) !important;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
    }
      background: #1e1e1e !important;
    }
    
.floating-bg {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
  overflow: hidden;
}
.floating-bg span {
  position: absolute;
  display: block;
  width: 40px; height: 40px;
  background: rgba(0, 121, 107, 0.15);
  border-radius: 50%;
  animation: floatAnim 20s linear infinite;
}
@keyframes floatAnim {
  0% { transform: translateY(100vh) scale(0.8); }
  100% { transform: translateY(-10vh) scale(1.2); }
}

.floating-bg span.leaf {
  width: 30px; height: 30px;
  background: rgba(76, 175, 80, 0.2);
  border-radius: 40% 60% 60% 40%;
}
.floating-bg span.lotus {
  width: 50px; height: 50px;
  background: rgba(255, 192, 203, 0.15);
  border-radius: 50%;
}
.floating-bg span.chakra {
  width: 28px; height: 28px;
  background: rgba(255, 235, 59, 0.2);
  border-radius: 50%;
}
.floating-bg span.sparkle {
  width: 20px; height: 20px;
  background: rgba(255, 255, 255, 0.12);
  border-radius: 50%;
  animation: floatAnim 18s ease-in-out infinite;
}
.floating-bg span.herb {
  width: 34px; height: 34px;
  background: rgba(139, 195, 74, 0.2);
  border-radius: 20% 40% 60% 80%;
}
.floating-bg span.pulse {
  width: 24px; height: 24px;
  background: rgba(0, 188, 212, 0.18);
  border-radius: 50%;
  animation: floatAnim 22s ease-in-out infinite;
}
.floating-bg span.star {
  width: 16px; height: 16px;
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
  animation: floatAnim 16s linear infinite;
}
</style>
<script>
  function isLoggedIn() {
    const profile = document.getElementById("user-profile");
    return profile && profile.style.display !== "none";
  }

  function toggleChat() {
    if (!isLoggedIn()) {
      alert("Please login to chat with the doctor.");
      return;
    }
    const chatBox = document.getElementById("chat-box");
    const isOpen = chatBox.style.display === "flex";
    chatBox.style.display = isOpen ? "none" : "flex";
  }

  function sendMessage() {
    const input = document.getElementById("messageInput");
    const msg = input.value.trim();
    if (!msg) return;

    const messagesContainer = document.getElementById("messages");

    const userMessage = document.createElement("div");
    userMessage.className = "message you";
    userMessage.textContent = msg;
    messagesContainer.appendChild(userMessage);

    input.value = "";
    messagesContainer.scrollTop = messagesContainer.scrollHeight;

    const autoReply = document.createElement("div");
    autoReply.className = "message";
    autoReply.textContent = "Please wait... You will receive a response from the doctor within 10 minutes to 12 hours.";
    setTimeout(() => {
      messagesContainer.appendChild(autoReply);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }, 1000);
  }
</script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const animatedSections = document.querySelectorAll("section");
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
        }
      });
    }, { threshold: 0.1 });

    animatedSections.forEach(section => {
      section.style.opacity = 0;
      section.style.transform = "translateY(40px)";
      section.style.transition = "opacity 0.6s ease-out, transform 0.6s ease-out";
      observer.observe(section);
    });
  });
</script>
<!-- Typing effect + Back to top -->
<script>
// Typing effect
document.addEventListener("DOMContentLoaded", () => {
  const el = document.querySelector(".typing-text");
  if (!el) return;
  const text = el.dataset.text || "Personalized Ayurveda for You...";
  let i = 0;
  function type() {
    if (i < text.length) {
      el.textContent += text.charAt(i);
      i++;
      setTimeout(type, 100);
    }
  }
  el.textContent = "";
  type();
});

// Back to Top

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>
